{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/miiiku/source/favicon.ico","path":"favicon.ico","modified":1,"renderable":1},{"_id":"themes/miiiku/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/miiiku/source/js/script.js","path":"js/script.js","modified":1,"renderable":1},{"_id":"themes/miiiku/source/lib/DPlayer.min.css","path":"lib/DPlayer.min.css","modified":1,"renderable":1},{"_id":"themes/miiiku/source/lib/macy.js","path":"lib/macy.js","modified":1,"renderable":1},{"_id":"themes/miiiku/source/lib/zoom.min.js","path":"lib/zoom.min.js","modified":1,"renderable":1},{"_id":"themes/miiiku/source/lib/DPlayer.min.js","path":"lib/DPlayer.min.js","modified":1,"renderable":1},{"_id":"themes/miiiku/source/css/images/logo.png","path":"css/images/logo.png","modified":1,"renderable":1},{"_id":"themes/miiiku/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":1,"renderable":1},{"_id":"themes/miiiku/source/css/fonts/Source Han Sans.ttf","path":"css/fonts/Source Han Sans.ttf","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"27dceeca799e7dad61700d8492ae66826f9fa11d","modified":1558251419304},{"_id":"themes/miiiku/LICENSE","hash":"da85e2f093615e3c008f60a94f85bf3d45106c95","modified":1558038342000},{"_id":"themes/miiiku/README.md","hash":"77a03a7e63ba485ddb68b32d072fe01c2154d67b","modified":1558038342000},{"_id":"themes/miiiku/_config.yml","hash":"c9d246fb8e1cf4405fb2793b2c15e782b6c634de","modified":1558277811502},{"_id":"source/_data/links.yml","hash":"807458155691c8954ef25ed62e68a728869c0862","modified":1558279373868},{"_id":"source/_posts/Android-iOS-Appä»£ç†åŒ…ä¸€é”®ç”Ÿæˆ.md","hash":"1820c2fca1287c4f4dcece508b63c05e88984a08","modified":1558278432911},{"_id":"source/_posts/Node-jså®‰è£….md","hash":"1e1aa339b60c4c4e7d4deef2698b5df3206a1796","modified":1558278246227},{"_id":"source/_posts/iOSè‡ªåŠ¨å¸ƒå±€ç®¡ç†UIScrollview-å¹¶è‡ªé€‚åº”è½¯é”®ç›˜å¼¹å‡º.md","hash":"20873457d8cc70b463b820a1aed802bfe65d7031","modified":1558278010721},{"_id":"source/_posts/macç”µè„‘å¼€å¯æ–‡ä»¶å…±äº«æœåŠ¡.md","hash":"a41631849307348c64ea1d42c9398e65a49e35aa","modified":1558277359935},{"_id":"source/_posts/ç¼“å­˜è…¾è®¯è§†é¢‘æ–‡ä»¶.md","hash":"3292ef2eb9cdb998acdfe40582b6936c5a82f62f","modified":1558276473964},{"_id":"source/about/index.md","hash":"9030e8caca7bb162380903ccf65226fc6ec5ec50","modified":1558279987230},{"_id":"source/categories/index.md","hash":"c3eea83bae6e252a8ec5fad0be98945d05fb2d8a","modified":1558271388437},{"_id":"source/links/index.md","hash":"e1d0c2c3fec67b73da8fe3b8e178ac0d45c3f80a","modified":1558271366474},{"_id":"source/messages/index.md","hash":"f07361c97cac65678175c655ffb769286f895461","modified":1558271328477},{"_id":"source/tags/index.md","hash":"0b47b90c67912d53fe427216fcc5a4903a974ab4","modified":1558271494197},{"_id":"themes/miiiku/languages/de.yml","hash":"3ebf0775abbee928c8d7bda943c191d166ded0d3","modified":1558038342000},{"_id":"themes/miiiku/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1558038342000},{"_id":"themes/miiiku/languages/es.yml","hash":"76edb1171b86532ef12cfd15f5f2c1ac3949f061","modified":1558038342000},{"_id":"themes/miiiku/languages/fr.yml","hash":"415e1c580ced8e4ce20b3b0aeedc3610341c76fb","modified":1558038342000},{"_id":"themes/miiiku/languages/ja.yml","hash":"a73e1b9c80fd6e930e2628b393bfe3fb716a21a9","modified":1558038342000},{"_id":"themes/miiiku/languages/ko.yml","hash":"881d6a0a101706e0452af81c580218e0bfddd9cf","modified":1558038342000},{"_id":"themes/miiiku/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1558038342000},{"_id":"themes/miiiku/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1558038342000},{"_id":"themes/miiiku/languages/pt.yml","hash":"57d07b75d434fbfc33b0ddb543021cb5f53318a8","modified":1558038342000},{"_id":"themes/miiiku/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1558038342000},{"_id":"themes/miiiku/languages/zh-CN.yml","hash":"eb0ef000853ecc6d5db678dd5b71caf53e809d02","modified":1558038342000},{"_id":"themes/miiiku/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1558038342000},{"_id":"themes/miiiku/layout/archive.ejs","hash":"21d1ce6b211466a2291da94ec16a88334ed80a2a","modified":1558038342000},{"_id":"themes/miiiku/layout/category.ejs","hash":"7bdf606bb4ef037066d614e611467c5035c7ffd8","modified":1558038342000},{"_id":"themes/miiiku/layout/index.ejs","hash":"bfbe151a98e2bc67e15c86bded5d257d152beead","modified":1558038342000},{"_id":"themes/miiiku/layout/layout.ejs","hash":"237f28666a505bc018bb0ff9a0195b78d570d2fc","modified":1558243556623},{"_id":"themes/miiiku/layout/page.ejs","hash":"76341bfd1ae34f030f1c536604ea9e12118fd521","modified":1558038342000},{"_id":"themes/miiiku/layout/post.ejs","hash":"b618bc6c3f0e72f8cb11a11c044565dac2db6fd0","modified":1558038342000},{"_id":"themes/miiiku/layout/tag.ejs","hash":"b0de89720449a2356ff9e84195397d45050d8634","modified":1558038342000},{"_id":"themes/miiiku/scripts/index.js","hash":"b997c693b2d1f689acc785b719ef4935cbcfa9be","modified":1558038342000},{"_id":"themes/miiiku/source/favicon.ico","hash":"0efc99a9d1410386ed6fadea048318e3a4073829","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/article-nav.ejs","hash":"6ee3d9a8b79ce51e5698914c143a9349bf6e359c","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/article-list.ejs","hash":"eb36acc1ebe020fdb3acff521fe9fb9972a10422","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/baidu-analytics.ejs","hash":"f1f79e1547a7d58da18a92a1073cf92d938d1f5a","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/banner.ejs","hash":"ae2ac6ae3f790aefbd26d7671ce4db91f8a5f093","modified":1558271440262},{"_id":"themes/miiiku/layout/_partial/content.ejs","hash":"af75a30c16980aac8b54c5aae70b45bb3e3f2cbf","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/footer-other.ejs","hash":"04adb6a36f880ffd7ffe1a995fefcd0e68aed703","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/footer-script.ejs","hash":"87de9f0ba5e6a3f56e7d8a3386720cb23cc2c911","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/footer.ejs","hash":"9cdb99e0329db8c4781901af130db97560073622","modified":1558280095062},{"_id":"themes/miiiku/layout/_partial/gauges-analytics.ejs","hash":"aad6312ac197d6c5aaf2104ac863d7eba46b772a","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/header.ejs","hash":"7654abd34755e23be29b5f7947b54e04e381aece","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/page.ejs","hash":"2ed2c03dac3bfae2dff8d5d461e19284a6277738","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/pagination.ejs","hash":"9579d5e4b7623ef9658780a0d8c7b72c9dd26e8a","modified":1558038342000},{"_id":"themes/miiiku/layout/_partial/tencent-analytics.ejs","hash":"5e62e7416b8b793436de5baeb0e8b4f5188237b5","modified":1558038342000},{"_id":"themes/miiiku/layout/_widget/comment.ejs","hash":"189b1c6c9858d81a0c941ed030b75c32758480de","modified":1558038342000},{"_id":"themes/miiiku/layout/_widget/category.ejs","hash":"51cb6b84d8062a4cad42534feeaadb8f6344c717","modified":1558038342000},{"_id":"themes/miiiku/layout/_widget/date.ejs","hash":"aec60b884e100330528e9e3d7ab3a8d0e43be60e","modified":1558038342000},{"_id":"themes/miiiku/layout/_widget/gallery.ejs","hash":"eda4daae02f52f3bd0c47e0480f09e9a076fc265","modified":1558038342000},{"_id":"themes/miiiku/layout/_widget/tags.ejs","hash":"f2d7ffaeb8bcafa6f680eba81d4becb4b84db48c","modified":1558038342000},{"_id":"themes/miiiku/layout/plug-in/dplayer.ejs","hash":"556d40f437816efd979849ef06433135cbe8f3d0","modified":1558038342000},{"_id":"themes/miiiku/layout/plug-in/macy.ejs","hash":"48934d118213a1d4e5cf953064cd6ad84fb9bfc6","modified":1558038342000},{"_id":"themes/miiiku/layout/plug-in/valine.ejs","hash":"0e7215bc8472e711c54f88f13996a5cd7d72811c","modified":1558038342000},{"_id":"themes/miiiku/layout/plug-in/zoom.ejs","hash":"55309df57780c8fd340ab098db8f4797ac45fb43","modified":1558038342000},{"_id":"themes/miiiku/source/css/style.styl","hash":"3178c9a7288f748b9f08d301c93c02f252d13615","modified":1558038342000},{"_id":"themes/miiiku/source/js/script.js","hash":"b7ad6a0b989f38ea36b81f8cc57bd7b5c1edd5be","modified":1558038342000},{"_id":"themes/miiiku/source/lib/DPlayer.min.css","hash":"bbfcb2564dd7643cf54c27e464de586cb3ef0b8b","modified":1558038342000},{"_id":"themes/miiiku/source/lib/macy.js","hash":"c37151ec0e2f77fef5a717db43a9c5c06b7189d6","modified":1558038342000},{"_id":"themes/miiiku/source/lib/zoom.min.js","hash":"5d58e5dda4ff70f6b1e0f32713e3902be5cc0a0e","modified":1558038342000},{"_id":"themes/miiiku/source/lib/DPlayer.min.js","hash":"4093ba933f60bd05c3a482433b2f2b4bf48cbd9a","modified":1558038342000},{"_id":"themes/miiiku/source/css/_partial/banner.styl","hash":"8f43636b1099931f0e701439867a959db623737c","modified":1558038342000},{"_id":"themes/miiiku/source/css/_partial/card.styl","hash":"c6a5621bef049aa81f9c06d3a5217b301d54fbfb","modified":1558038342000},{"_id":"themes/miiiku/source/css/_partial/content.styl","hash":"5503541ffe2b900e81f09b713de651dcbaf976c4","modified":1558038342000},{"_id":"themes/miiiku/source/css/_partial/footer.styl","hash":"9451b7da99ca496a9d0404cabfffcb4880e50495","modified":1558038342000},{"_id":"themes/miiiku/source/css/_partial/header.styl","hash":"608c805a8024b9e09bd3d8846bb0ddaa1a9e6ca9","modified":1558038342000},{"_id":"themes/miiiku/source/css/_partial/page.styl","hash":"11b8466df3c4096e940acbe2aa10fdd30f192780","modified":1558038342000},{"_id":"themes/miiiku/source/css/_partial/pagination.styl","hash":"957e42acb381e41f70f9b0a97461456d06741c97","modified":1558038342000},{"_id":"themes/miiiku/source/css/_util/mixins.styl","hash":"785f33270ec0f200589b18500825c668f4108614","modified":1558244369025},{"_id":"themes/miiiku/source/css/_util/variables.styl","hash":"92247b5fdaffef490021b71cddf5617f7168bd81","modified":1558038342000},{"_id":"themes/miiiku/source/css/images/logo.png","hash":"52fe7da50be7ad3e14b8166c63614b838e9d27d7","modified":1558243078000},{"_id":"themes/miiiku/source/css/images/banner.jpg","hash":"0ef77837762fcc0674e7d19a57f03ab3bdd4dc93","modified":1558038342000},{"_id":"themes/miiiku/source/css/fonts/Source Han Sans.ttf","hash":"23ebdfaef66ae9a21608d27d7a4f095e0280373f","modified":1558038342000},{"_id":"public/about/index.html","hash":"36e784a61759a397812f2aefdd85db8ca97b42b2","modified":1558280633569},{"_id":"public/categories/index.html","hash":"747b988c47a174fb68ac7426b7b4872e842914e3","modified":1558280633570},{"_id":"public/links/index.html","hash":"97ac657b553f2784a1c57cd46eafedae6e28b894","modified":1558280633570},{"_id":"public/messages/index.html","hash":"967906a2a42ce0c13c8301bc1fb731e8ebdc5a50","modified":1558280633570},{"_id":"public/tags/index.html","hash":"f9503acc313b52e58c5a353246048fc68ee1e013","modified":1558280633570},{"_id":"public/2019/05/19/macç”µè„‘å¼€å¯æ–‡ä»¶å…±äº«æœåŠ¡/index.html","hash":"3d841b9fd66523c94ded18be3f9c1fcd14c6c413","modified":1558280633571},{"_id":"public/archives/index.html","hash":"dff2c7148d941a1e7094182e36d9bba6ae5304ab","modified":1558280633571},{"_id":"public/archives/2019/index.html","hash":"0144818b98aa607608e862fd328d88137668e21f","modified":1558280633571},{"_id":"public/archives/2019/05/index.html","hash":"1d75141c9ee12c27188d4d774b6b561025445d1c","modified":1558280633571},{"_id":"public/categories/Android/index.html","hash":"8f3699fd011191a473f320a9618420287de8380f","modified":1558280633571},{"_id":"public/categories/js/index.html","hash":"1895ba82bcb0cfcbf1e1d907d386ec0e7409027f","modified":1558280633571},{"_id":"public/categories/iOS/index.html","hash":"9ca362fcbc78076691b32c4fd2d9f22ffee1b968","modified":1558280633571},{"_id":"public/categories/åŠˆæŸ´/index.html","hash":"f334d6cb0e1387a6526fe8bf78819ec394505b71","modified":1558280633571},{"_id":"public/categories/Android/iOS/index.html","hash":"6f78eaab7d514c316a289645dc4688bf967c0860","modified":1558280633571},{"_id":"public/index.html","hash":"e5ac70b1d9d5323dd7177eace53039fed4cf2fe9","modified":1558280633571},{"_id":"public/tags/Python/index.html","hash":"dee11945fee32053f755b8c3ff89a767d5495d99","modified":1558280633572},{"_id":"public/tags/Android/index.html","hash":"aeac504d2f0406b3f3ca5069181d4450b61d485f","modified":1558280633572},{"_id":"public/tags/iOS/index.html","hash":"560aec2d119a6e72257ed24a6151bd4ff4920bd8","modified":1558280633572},{"_id":"public/tags/js/index.html","hash":"005066031e12a83368773184ba8a7006e3bcef79","modified":1558280633572},{"_id":"public/tags/è‡ªåŠ¨å¸ƒå±€/index.html","hash":"738e876d87ccc3d8fc6aadbd6ea3a88901e0a3db","modified":1558280633572},{"_id":"public/tags/Python2-7/index.html","hash":"1494b0421d9cd509d7fbe50386f4d0e57f58189d","modified":1558280633572},{"_id":"public/tags/macOS/index.html","hash":"ebdf58dab9d0117505fb4ad2f840fd7ad0a13933","modified":1558280633572},{"_id":"public/tags/ffmpeg/index.html","hash":"e2882f483b6ad1a385d89f0006dda607e64f1a25","modified":1558280633572},{"_id":"public/2019/05/19/Node-jså®‰è£…/index.html","hash":"df936afed3bdbd55657d8c7d50ecf5dce1770ae3","modified":1558280633572},{"_id":"public/2019/05/19/iOSè‡ªåŠ¨å¸ƒå±€ç®¡ç†UIScrollview-å¹¶è‡ªé€‚åº”è½¯é”®ç›˜å¼¹å‡º/index.html","hash":"70e57c6abe196f4165e9f099383f68b8fa2b4685","modified":1558280633572},{"_id":"public/2019/05/19/Android-iOS-Appä»£ç†åŒ…ä¸€é”®ç”Ÿæˆ/index.html","hash":"20a98c91511ac313136a491cbfae8fdd931522fb","modified":1558280633573},{"_id":"public/2019/05/19/ç¼“å­˜è…¾è®¯è§†é¢‘æ–‡ä»¶/index.html","hash":"8da9d4ffff6c81db7d5ca440ed543ce6de49dde8","modified":1558280633573},{"_id":"public/favicon.ico","hash":"0efc99a9d1410386ed6fadea048318e3a4073829","modified":1558280633575},{"_id":"public/css/images/logo.png","hash":"52fe7da50be7ad3e14b8166c63614b838e9d27d7","modified":1558280633575},{"_id":"public/js/script.js","hash":"b7ad6a0b989f38ea36b81f8cc57bd7b5c1edd5be","modified":1558280633774},{"_id":"public/lib/macy.js","hash":"c37151ec0e2f77fef5a717db43a9c5c06b7189d6","modified":1558280633774},{"_id":"public/lib/zoom.min.js","hash":"5d58e5dda4ff70f6b1e0f32713e3902be5cc0a0e","modified":1558280633774},{"_id":"public/css/style.css","hash":"5089d7e1188a68d469ae66979eb35df79b76e327","modified":1558280633774},{"_id":"public/lib/DPlayer.min.css","hash":"bbfcb2564dd7643cf54c27e464de586cb3ef0b8b","modified":1558280633774},{"_id":"public/lib/DPlayer.min.js","hash":"4093ba933f60bd05c3a482433b2f2b4bf48cbd9a","modified":1558280633774},{"_id":"public/css/images/banner.jpg","hash":"0ef77837762fcc0674e7d19a57f03ab3bdd4dc93","modified":1558280633815},{"_id":"public/css/fonts/Source Han Sans.ttf","hash":"23ebdfaef66ae9a21608d27d7a4f095e0280373f","modified":1558280633859}],"Category":[{"name":"Android","_id":"cjvv41zgy0004cvof2pllxaer"},{"name":"js","_id":"cjvv41zh5000bcvofx5kxrfsk"},{"name":"iOS","_id":"cjvv41zh9000ecvofovprmzhd"},{"name":"åŠˆæŸ´","_id":"cjvv41zh9000hcvofyb28jsuj"},{"name":"iOS","parent":"cjvv41zgy0004cvof2pllxaer","_id":"cjvv41zhb000mcvof4nejwf12"}],"Data":[{"_id":"links","data":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}],"Page":[{"title":"å…³äº","date":"2019-05-19T12:31:40.000Z","subtitle":null,"cover":null,"type":"about","_content":"### Oort\n\n**ã€Œ90åä¸­å¹´æ²¹è…»ç”·ã€** **ã€Œç”·ã€** **ã€Œè¥¿å®‰ã€**\n\n### ç†Ÿæ‚‰æŠ€èƒ½\n\n    - Android\n\n    - iOS\n\n    - vue\n\n    - python\n\n    - flask\n\n    - flutter\n\n### ä¸ªäººçˆ±å¥½\n    - å°çƒ\n    \n    - æ—…æ¸¸\n    \n    - æ‘„å½±\n    \n    - ç”µç«\n\n\n","source":"about/index.md","raw":"---\ntitle: å…³äº\ndate: 2019-05-19 20:31:40\nsubtitle:\ncover:\ntype: about\n---\n### Oort\n\n**ã€Œ90åä¸­å¹´æ²¹è…»ç”·ã€** **ã€Œç”·ã€** **ã€Œè¥¿å®‰ã€**\n\n### ç†Ÿæ‚‰æŠ€èƒ½\n\n    - Android\n\n    - iOS\n\n    - vue\n\n    - python\n\n    - flask\n\n    - flutter\n\n### ä¸ªäººçˆ±å¥½\n    - å°çƒ\n    \n    - æ—…æ¸¸\n    \n    - æ‘„å½±\n    \n    - ç”µç«\n\n\n","updated":"2019-05-19T15:33:07.230Z","path":"about/index.html","comments":1,"layout":"page","_id":"cjvv41zgu0001cvofeqq1cjje","content":"<h3 id=\"Oort\"><a href=\"#Oort\" class=\"headerlink\" title=\"Oort\"></a>Oort</h3><p><strong>ã€Œ90åä¸­å¹´æ²¹è…»ç”·ã€</strong> <strong>ã€Œç”·ã€</strong> <strong>ã€Œè¥¿å®‰ã€</strong></p>\n<h3 id=\"ç†Ÿæ‚‰æŠ€èƒ½\"><a href=\"#ç†Ÿæ‚‰æŠ€èƒ½\" class=\"headerlink\" title=\"ç†Ÿæ‚‰æŠ€èƒ½\"></a>ç†Ÿæ‚‰æŠ€èƒ½</h3><pre><code>- Android\n\n- iOS\n\n- vue\n\n- python\n\n- flask\n\n- flutter\n</code></pre><h3 id=\"ä¸ªäººçˆ±å¥½\"><a href=\"#ä¸ªäººçˆ±å¥½\" class=\"headerlink\" title=\"ä¸ªäººçˆ±å¥½\"></a>ä¸ªäººçˆ±å¥½</h3><pre><code>- å°çƒ\n\n- æ—…æ¸¸\n\n- æ‘„å½±\n\n- ç”µç«\n</code></pre>","site":{"data":{"links":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}},"excerpt":"","more":"<h3 id=\"Oort\"><a href=\"#Oort\" class=\"headerlink\" title=\"Oort\"></a>Oort</h3><p><strong>ã€Œ90åä¸­å¹´æ²¹è…»ç”·ã€</strong> <strong>ã€Œç”·ã€</strong> <strong>ã€Œè¥¿å®‰ã€</strong></p>\n<h3 id=\"ç†Ÿæ‚‰æŠ€èƒ½\"><a href=\"#ç†Ÿæ‚‰æŠ€èƒ½\" class=\"headerlink\" title=\"ç†Ÿæ‚‰æŠ€èƒ½\"></a>ç†Ÿæ‚‰æŠ€èƒ½</h3><pre><code>- Android\n\n- iOS\n\n- vue\n\n- python\n\n- flask\n\n- flutter\n</code></pre><h3 id=\"ä¸ªäººçˆ±å¥½\"><a href=\"#ä¸ªäººçˆ±å¥½\" class=\"headerlink\" title=\"ä¸ªäººçˆ±å¥½\"></a>ä¸ªäººçˆ±å¥½</h3><pre><code>- å°çƒ\n\n- æ—…æ¸¸\n\n- æ‘„å½±\n\n- ç”µç«\n</code></pre>"},{"title":"æ–‡ç« åˆ†ç±»","date":"2019-05-19T12:29:49.000Z","subtitle":null,"cover":null,"type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: æ–‡ç« åˆ†ç±»\ndate: 2019-05-19 20:29:49\nsubtitle:\ncover:\ntype: categories\n---\n","updated":"2019-05-19T13:09:48.437Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cjvv41zgx0003cvofnsukn598","content":"","site":{"data":{"links":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}},"excerpt":"","more":""},{"title":"ä¸ªäººå…¶ä»–ç«™ç‚¹","date":"2019-05-19T12:18:37.000Z","subtitle":null,"cover":null,"type":"links","_content":"","source":"links/index.md","raw":"---\ntitle: ä¸ªäººå…¶ä»–ç«™ç‚¹\ndate: 2019-05-19 20:18:37\nsubtitle: \ncover:\ntype: links\n---\n","updated":"2019-05-19T13:09:26.474Z","path":"links/index.html","comments":1,"layout":"page","_id":"cjvv41zh10007cvof4zrgfyct","content":"","site":{"data":{"links":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}},"excerpt":"","more":""},{"title":"ç•™è¨€æ¿","date":"2019-05-19T12:31:02.000Z","subtitle":"ç•™å§åæ­£æˆ‘ä¹Ÿä¸ä¼šçœ‹ğŸ˜†","cover":null,"type":"messages","_content":"","source":"messages/index.md","raw":"---\ntitle: ç•™è¨€æ¿\ndate: 2019-05-19 20:31:02\nsubtitle: ç•™å§åæ­£æˆ‘ä¹Ÿä¸ä¼šçœ‹ğŸ˜†\ncover:\ntype: messages\n---\n","updated":"2019-05-19T13:08:48.477Z","path":"messages/index.html","comments":1,"layout":"page","_id":"cjvv41zh30009cvofkw7gkuk7","content":"","site":{"data":{"links":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}},"excerpt":"","more":""},{"title":"æ ‡ç­¾","date":"2019-05-19T12:30:25.000Z","subtitle":null,"cover":null,"type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: æ ‡ç­¾\ndate: 2019-05-19 20:30:25\nsubtitle:\ncover:\ntype: tags\n---\n","updated":"2019-05-19T13:11:34.197Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cjvv41zh6000dcvof1g8m07wx","content":"","site":{"data":{"links":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}},"excerpt":"","more":""}],"Post":[{"title":"Android/iOS-Appä»£ç†åŒ…ä¸€é”®ç”Ÿæˆ","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3279.jpg","date":"2019-05-19T14:50:39.000Z","subtitle":"å¿«é€Ÿç”Ÿæˆä»£ç†åŒ…","_content":"# APPå¿«é€Ÿæ‰“ä»£ç†åŒ…å·¥å…·\n\n\n*å‰è¨€ï¼š*\nä»£ç†åŒ…å¯ä»¥å¿«é€Ÿå¸®åŠ©æ¨å¹¿è¿è¥è¿›è¡Œå¤šæ¸ é“åˆ†å‘ï¼š  \n\n - å®ç°å¤šæ¸ é“æ‰“åŒ…åŠiOSä¼ä¸šçº§åˆ†å‘åŒ…çš„å¿«é€Ÿç”Ÿæˆæ¸ é“åŒ…\n - åªéœ€è¦ä¸€ä¸ªAndroid iOSåŸå§‹åŒ…å³å¯å¿«é€Ÿç”ŸæˆNä¸ªæ¸ é“å•†ä»£ç†åŒ…\n - æ”¯æŒç”Ÿæˆä¹‹åå¿«é€Ÿæ‰«äºŒç»´ç ä¸‹è½½è¯¥æ¸ é“åŒ…æµ‹è¯•\n - pythonå•æ–‡ä»¶GUIå¼€å‘ã€‚æ–¹ä¾¿æ‹†è§£åŠæ›¿æ¢appå†…æ–‡ä»¶ï¼ŒåŠåŠŸèƒ½æ¨¡å—å•ç‹¬ä½¿ç”¨\n - å¯ç¼–è¯‘ä¸ºwindowsæ¡Œé¢ç¨‹åºå’Œmacæ¡Œé¢ç¨‹åº\n\n-------------------\n\n## ä¸Šæ•ˆæœå›¾ \n![Jietu20180727-103944.jpg](http://prr6elh1d.sabkt.gdipper.com/static/images/2975942-78ee969e74ad85b6.jpg)\n\n## æ³¨æ„äº‹é¡¹\n\n1. Android ç­¾åæ‰“åŒ…æ—¶Signature Versionsä¸è¦å‹¾é€‰V2(Full APK Signature)(æ³¨æ„)\n   ä¸ç„¶ä¼šå¯¼è‡´ç­¾åå‡ºçš„åŒ…è¿›è¡Œå…¨åŒ…æ ¡éªŒæ—¶å®‰è£…å¤±è´¥ã€‚ï¼ˆç”±äºæ‰“åŒ…æ—¶ä¼šå°†æ–‡ä»¶å†™å…¥Apkä¸­ï¼ŒApkæ–‡ä»¶sha256å˜åŒ–ä¹‹å ç­¾åæ–‡ä»¶è®¤è¯ä¸è¿‡é€šï¼‰\n2. ios å¯ä»¥ä½¿ç”¨ä¼ä¸šç­¾ååŒ…ç­¾å‡ºåŸå§‹åŒ…è¿›è¡Œæ‰“åŒ…\n3. Androidç­¾è¿‡ä¹‹åçš„åŒ…ä¸èƒ½å†ç­¾ï¼Œéœ€è¦æ”¹Pythonä»£ç \n\n-------------------\n## ä½¿ç”¨æ–¹å¼\n\n### Androidä»£ç \n```java\n   /**\n     * ä»apkä¸­è·å–ç‰ˆæœ¬ä¿¡æ¯\n     *\n     * @param context\n     * @param channelPrefix æ¸ é“å‰ç¼€\n     * @return\n     */\n    public static String getChannelFromApk(Context context, String channelPrefix) {\n        //ä»apkåŒ…ä¸­è·å–\n        ApplicationInfo appinfo = context.getApplicationInfo();\n        String sourceDir = appinfo.sourceDir;\n        //é»˜è®¤æ”¾åœ¨meta-inf/é‡Œï¼Œ æ‰€ä»¥éœ€è¦å†æ‹¼æ¥ä¸€ä¸‹\n        String key = \"META-INF/\" + channelPrefix;\n        String ret = \"\";\n        ZipFile zipfile = null;\n        try {\n            zipfile = new ZipFile(sourceDir);\n            Enumeration<?> entries = zipfile.entries();\n            while (entries.hasMoreElements()) {\n                ZipEntry entry = ((ZipEntry) entries.nextElement());\n                String entryName = entry.getName();\n                if (entryName.startsWith(key)) {\n                    ret = entryName;\n                    break;\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (zipfile != null) {\n                try {\n                    zipfile.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        String[] split = ret.split(channelPrefix);\n        String channel = \"\";\n        if (split != null && split.length >= 2) {\n            channel = ret.substring(key.length());\n        }\n        StorageLW.getSingleton().put(StorageKEY.APP_CHANNEL, channel);\n        return channel;\n    }\n```\n\n### iOSä½¿ç”¨æ–¹å¼\n```objective-c\n    /*! è¯»å–æ¸ é“ID */\n    + (NSString *)channel{\n       NSString *resourceDirectory = [[NSBundle mainBundle] resourcePath];\n       NSString *CodeSignaturePath = [resourceDirectory stringByAppendingPathComponent:@\"/_CodeSignature/AppInfo.plist\"];\n       NSMutableDictionary *data = [[NSMutableDictionary alloc]initWithContentsOfFile:CodeSignaturePath];\n       NSString *cid = [data objectForKey:@\"channel\"];\n       if(!cid){\n           cid = @\"\";\n       }\n       return cid;\n    }\n```\n\n## å®ç°åŸç†\n\n\n\n\n- *Android apkçš„zipåŒ…å†…META-INFæè¿°æ–‡ä»¶å¤¹å†…å†™å…¥ç©ºæ–‡ä»¶ã€‚æ–‡ä»¶åå°±æ˜¯æˆ‘ä»¬è¦æ‰“çš„æ¸ é“åŒ…ID\n\n\n- *iOS åœ¨ipaå†…é€‰æ‹©Payload/{$APP_NAME}/_CodeSignaturre/ ä¸‹å†™å…¥AppInfo.plistæ–‡ä»¶ ç„¶åè¯»å–è¯¥æ–‡ä»¶å†…çš„channel key\n\n\n## ä½¿ç”¨åŒºåŸŸç½‘æœåŠ¡å™¨ä½œä¸ºä¸‹è½½æœåŠ¡å™¨ï¼Œå¦‚æœè¦ä½¿ç”¨iOSæ‰«æä¸‹è½½å®‰è£…ã€‚åˆ™éœ€è¦ä¿®æ”¹æœ¬åœ°pythonä»£ç  æ­å»ºæœ¬åœ°httpsç¯å¢ƒ åˆ›å»ºCAè¯ä¹¦å®‰è£…åˆ°iPhoneä¸Š\n\n## ä½¿ç”¨Python æºç  éœ€è¦å®‰è£…ä¾èµ–åº“\n\n\n\n\n\n# [æºç ](https://github.com/yaooort/Apputils)\n\n","source":"_posts/Android-iOS-Appä»£ç†åŒ…ä¸€é”®ç”Ÿæˆ.md","raw":"---\ntitle: Android/iOS-Appä»£ç†åŒ…ä¸€é”®ç”Ÿæˆ\ncover: http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3279.jpg\ndate: 2019-05-19 22:50:39\nsubtitle: å¿«é€Ÿç”Ÿæˆä»£ç†åŒ…\ncategories:\n- Android\n- iOS\ntags:\n- Python\n- Android\n- iOS\n---\n# APPå¿«é€Ÿæ‰“ä»£ç†åŒ…å·¥å…·\n\n\n*å‰è¨€ï¼š*\nä»£ç†åŒ…å¯ä»¥å¿«é€Ÿå¸®åŠ©æ¨å¹¿è¿è¥è¿›è¡Œå¤šæ¸ é“åˆ†å‘ï¼š  \n\n - å®ç°å¤šæ¸ é“æ‰“åŒ…åŠiOSä¼ä¸šçº§åˆ†å‘åŒ…çš„å¿«é€Ÿç”Ÿæˆæ¸ é“åŒ…\n - åªéœ€è¦ä¸€ä¸ªAndroid iOSåŸå§‹åŒ…å³å¯å¿«é€Ÿç”ŸæˆNä¸ªæ¸ é“å•†ä»£ç†åŒ…\n - æ”¯æŒç”Ÿæˆä¹‹åå¿«é€Ÿæ‰«äºŒç»´ç ä¸‹è½½è¯¥æ¸ é“åŒ…æµ‹è¯•\n - pythonå•æ–‡ä»¶GUIå¼€å‘ã€‚æ–¹ä¾¿æ‹†è§£åŠæ›¿æ¢appå†…æ–‡ä»¶ï¼ŒåŠåŠŸèƒ½æ¨¡å—å•ç‹¬ä½¿ç”¨\n - å¯ç¼–è¯‘ä¸ºwindowsæ¡Œé¢ç¨‹åºå’Œmacæ¡Œé¢ç¨‹åº\n\n-------------------\n\n## ä¸Šæ•ˆæœå›¾ \n![Jietu20180727-103944.jpg](http://prr6elh1d.sabkt.gdipper.com/static/images/2975942-78ee969e74ad85b6.jpg)\n\n## æ³¨æ„äº‹é¡¹\n\n1. Android ç­¾åæ‰“åŒ…æ—¶Signature Versionsä¸è¦å‹¾é€‰V2(Full APK Signature)(æ³¨æ„)\n   ä¸ç„¶ä¼šå¯¼è‡´ç­¾åå‡ºçš„åŒ…è¿›è¡Œå…¨åŒ…æ ¡éªŒæ—¶å®‰è£…å¤±è´¥ã€‚ï¼ˆç”±äºæ‰“åŒ…æ—¶ä¼šå°†æ–‡ä»¶å†™å…¥Apkä¸­ï¼ŒApkæ–‡ä»¶sha256å˜åŒ–ä¹‹å ç­¾åæ–‡ä»¶è®¤è¯ä¸è¿‡é€šï¼‰\n2. ios å¯ä»¥ä½¿ç”¨ä¼ä¸šç­¾ååŒ…ç­¾å‡ºåŸå§‹åŒ…è¿›è¡Œæ‰“åŒ…\n3. Androidç­¾è¿‡ä¹‹åçš„åŒ…ä¸èƒ½å†ç­¾ï¼Œéœ€è¦æ”¹Pythonä»£ç \n\n-------------------\n## ä½¿ç”¨æ–¹å¼\n\n### Androidä»£ç \n```java\n   /**\n     * ä»apkä¸­è·å–ç‰ˆæœ¬ä¿¡æ¯\n     *\n     * @param context\n     * @param channelPrefix æ¸ é“å‰ç¼€\n     * @return\n     */\n    public static String getChannelFromApk(Context context, String channelPrefix) {\n        //ä»apkåŒ…ä¸­è·å–\n        ApplicationInfo appinfo = context.getApplicationInfo();\n        String sourceDir = appinfo.sourceDir;\n        //é»˜è®¤æ”¾åœ¨meta-inf/é‡Œï¼Œ æ‰€ä»¥éœ€è¦å†æ‹¼æ¥ä¸€ä¸‹\n        String key = \"META-INF/\" + channelPrefix;\n        String ret = \"\";\n        ZipFile zipfile = null;\n        try {\n            zipfile = new ZipFile(sourceDir);\n            Enumeration<?> entries = zipfile.entries();\n            while (entries.hasMoreElements()) {\n                ZipEntry entry = ((ZipEntry) entries.nextElement());\n                String entryName = entry.getName();\n                if (entryName.startsWith(key)) {\n                    ret = entryName;\n                    break;\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (zipfile != null) {\n                try {\n                    zipfile.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        String[] split = ret.split(channelPrefix);\n        String channel = \"\";\n        if (split != null && split.length >= 2) {\n            channel = ret.substring(key.length());\n        }\n        StorageLW.getSingleton().put(StorageKEY.APP_CHANNEL, channel);\n        return channel;\n    }\n```\n\n### iOSä½¿ç”¨æ–¹å¼\n```objective-c\n    /*! è¯»å–æ¸ é“ID */\n    + (NSString *)channel{\n       NSString *resourceDirectory = [[NSBundle mainBundle] resourcePath];\n       NSString *CodeSignaturePath = [resourceDirectory stringByAppendingPathComponent:@\"/_CodeSignature/AppInfo.plist\"];\n       NSMutableDictionary *data = [[NSMutableDictionary alloc]initWithContentsOfFile:CodeSignaturePath];\n       NSString *cid = [data objectForKey:@\"channel\"];\n       if(!cid){\n           cid = @\"\";\n       }\n       return cid;\n    }\n```\n\n## å®ç°åŸç†\n\n\n\n\n- *Android apkçš„zipåŒ…å†…META-INFæè¿°æ–‡ä»¶å¤¹å†…å†™å…¥ç©ºæ–‡ä»¶ã€‚æ–‡ä»¶åå°±æ˜¯æˆ‘ä»¬è¦æ‰“çš„æ¸ é“åŒ…ID\n\n\n- *iOS åœ¨ipaå†…é€‰æ‹©Payload/{$APP_NAME}/_CodeSignaturre/ ä¸‹å†™å…¥AppInfo.plistæ–‡ä»¶ ç„¶åè¯»å–è¯¥æ–‡ä»¶å†…çš„channel key\n\n\n## ä½¿ç”¨åŒºåŸŸç½‘æœåŠ¡å™¨ä½œä¸ºä¸‹è½½æœåŠ¡å™¨ï¼Œå¦‚æœè¦ä½¿ç”¨iOSæ‰«æä¸‹è½½å®‰è£…ã€‚åˆ™éœ€è¦ä¿®æ”¹æœ¬åœ°pythonä»£ç  æ­å»ºæœ¬åœ°httpsç¯å¢ƒ åˆ›å»ºCAè¯ä¹¦å®‰è£…åˆ°iPhoneä¸Š\n\n## ä½¿ç”¨Python æºç  éœ€è¦å®‰è£…ä¾èµ–åº“\n\n\n\n\n\n# [æºç ](https://github.com/yaooort/Apputils)\n\n","slug":"Android-iOS-Appä»£ç†åŒ…ä¸€é”®ç”Ÿæˆ","published":1,"updated":"2019-05-19T15:07:12.911Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjvv41zgq0000cvofp8ke4pex","content":"<h1 id=\"APPå¿«é€Ÿæ‰“ä»£ç†åŒ…å·¥å…·\"><a href=\"#APPå¿«é€Ÿæ‰“ä»£ç†åŒ…å·¥å…·\" class=\"headerlink\" title=\"APPå¿«é€Ÿæ‰“ä»£ç†åŒ…å·¥å…·\"></a>APPå¿«é€Ÿæ‰“ä»£ç†åŒ…å·¥å…·</h1><p><em>å‰è¨€ï¼š</em><br>ä»£ç†åŒ…å¯ä»¥å¿«é€Ÿå¸®åŠ©æ¨å¹¿è¿è¥è¿›è¡Œå¤šæ¸ é“åˆ†å‘ï¼š  </p>\n<ul>\n<li>å®ç°å¤šæ¸ é“æ‰“åŒ…åŠiOSä¼ä¸šçº§åˆ†å‘åŒ…çš„å¿«é€Ÿç”Ÿæˆæ¸ é“åŒ…</li>\n<li>åªéœ€è¦ä¸€ä¸ªAndroid iOSåŸå§‹åŒ…å³å¯å¿«é€Ÿç”ŸæˆNä¸ªæ¸ é“å•†ä»£ç†åŒ…</li>\n<li>æ”¯æŒç”Ÿæˆä¹‹åå¿«é€Ÿæ‰«äºŒç»´ç ä¸‹è½½è¯¥æ¸ é“åŒ…æµ‹è¯•</li>\n<li>pythonå•æ–‡ä»¶GUIå¼€å‘ã€‚æ–¹ä¾¿æ‹†è§£åŠæ›¿æ¢appå†…æ–‡ä»¶ï¼ŒåŠåŠŸèƒ½æ¨¡å—å•ç‹¬ä½¿ç”¨</li>\n<li>å¯ç¼–è¯‘ä¸ºwindowsæ¡Œé¢ç¨‹åºå’Œmacæ¡Œé¢ç¨‹åº</li>\n</ul>\n<hr>\n<h2 id=\"ä¸Šæ•ˆæœå›¾\"><a href=\"#ä¸Šæ•ˆæœå›¾\" class=\"headerlink\" title=\"ä¸Šæ•ˆæœå›¾\"></a>ä¸Šæ•ˆæœå›¾</h2><p><img src=\"http://prr6elh1d.sabkt.gdipper.com/static/images/2975942-78ee969e74ad85b6.jpg\" alt=\"Jietu20180727-103944.jpg\"></p>\n<h2 id=\"æ³¨æ„äº‹é¡¹\"><a href=\"#æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"æ³¨æ„äº‹é¡¹\"></a>æ³¨æ„äº‹é¡¹</h2><ol>\n<li>Android ç­¾åæ‰“åŒ…æ—¶Signature Versionsä¸è¦å‹¾é€‰V2(Full APK Signature)(æ³¨æ„)<br>ä¸ç„¶ä¼šå¯¼è‡´ç­¾åå‡ºçš„åŒ…è¿›è¡Œå…¨åŒ…æ ¡éªŒæ—¶å®‰è£…å¤±è´¥ã€‚ï¼ˆç”±äºæ‰“åŒ…æ—¶ä¼šå°†æ–‡ä»¶å†™å…¥Apkä¸­ï¼ŒApkæ–‡ä»¶sha256å˜åŒ–ä¹‹å ç­¾åæ–‡ä»¶è®¤è¯ä¸è¿‡é€šï¼‰</li>\n<li>ios å¯ä»¥ä½¿ç”¨ä¼ä¸šç­¾ååŒ…ç­¾å‡ºåŸå§‹åŒ…è¿›è¡Œæ‰“åŒ…</li>\n<li>Androidç­¾è¿‡ä¹‹åçš„åŒ…ä¸èƒ½å†ç­¾ï¼Œéœ€è¦æ”¹Pythonä»£ç </li>\n</ol>\n<hr>\n<h2 id=\"ä½¿ç”¨æ–¹å¼\"><a href=\"#ä½¿ç”¨æ–¹å¼\" class=\"headerlink\" title=\"ä½¿ç”¨æ–¹å¼\"></a>ä½¿ç”¨æ–¹å¼</h2><h3 id=\"Androidä»£ç \"><a href=\"#Androidä»£ç \" class=\"headerlink\" title=\"Androidä»£ç \"></a>Androidä»£ç </h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * ä»apkä¸­è·å–ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@param</span> context</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@param</span> channelPrefix æ¸ é“å‰ç¼€</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title\">getChannelFromApk</span><span class=\"params\">(Context context, String channelPrefix)</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"comment\">//ä»apkåŒ…ä¸­è·å–</span></span><br><span class=\"line\">     ApplicationInfo appinfo = context.getApplicationInfo();</span><br><span class=\"line\">     String sourceDir = appinfo.sourceDir;</span><br><span class=\"line\">     <span class=\"comment\">//é»˜è®¤æ”¾åœ¨meta-inf/é‡Œï¼Œ æ‰€ä»¥éœ€è¦å†æ‹¼æ¥ä¸€ä¸‹</span></span><br><span class=\"line\">     String key = <span class=\"string\">\"META-INF/\"</span> + channelPrefix;</span><br><span class=\"line\">     String ret = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">     ZipFile zipfile = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">     <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">         zipfile = <span class=\"keyword\">new</span> ZipFile(sourceDir);</span><br><span class=\"line\">         Enumeration&lt;?&gt; entries = zipfile.entries();</span><br><span class=\"line\">         <span class=\"keyword\">while</span> (entries.hasMoreElements()) &#123;</span><br><span class=\"line\">             ZipEntry entry = ((ZipEntry) entries.nextElement());</span><br><span class=\"line\">             String entryName = entry.getName();</span><br><span class=\"line\">             <span class=\"keyword\">if</span> (entryName.startsWith(key)) &#123;</span><br><span class=\"line\">                 ret = entryName;</span><br><span class=\"line\">                 <span class=\"keyword\">break</span>;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">     &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">         e.printStackTrace();</span><br><span class=\"line\">     &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">if</span> (zipfile != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">             <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                 zipfile.close();</span><br><span class=\"line\">             &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">                 e.printStackTrace();</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     String[] split = ret.split(channelPrefix);</span><br><span class=\"line\">     String channel = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (split != <span class=\"keyword\">null</span> &amp;&amp; split.length &gt;= <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">         channel = ret.substring(key.length());</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     StorageLW.getSingleton().put(StorageKEY.APP_CHANNEL, channel);</span><br><span class=\"line\">     <span class=\"keyword\">return</span> channel;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"iOSä½¿ç”¨æ–¹å¼\"><a href=\"#iOSä½¿ç”¨æ–¹å¼\" class=\"headerlink\" title=\"iOSä½¿ç”¨æ–¹å¼\"></a>iOSä½¿ç”¨æ–¹å¼</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/*! è¯»å–æ¸ é“ID */</span><br><span class=\"line\">+ (NSString *)channel&#123;</span><br><span class=\"line\">   NSString *resourceDirectory = [[NSBundle mainBundle] resourcePath];</span><br><span class=\"line\">   NSString *CodeSignaturePath = [resourceDirectory stringByAppendingPathComponent:@&quot;/_CodeSignature/AppInfo.plist&quot;];</span><br><span class=\"line\">   NSMutableDictionary *data = [[NSMutableDictionary alloc]initWithContentsOfFile:CodeSignaturePath];</span><br><span class=\"line\">   NSString *cid = [data objectForKey:@&quot;channel&quot;];</span><br><span class=\"line\">   if(!cid)&#123;</span><br><span class=\"line\">       cid = @&quot;&quot;;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   return cid;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"å®ç°åŸç†\"><a href=\"#å®ç°åŸç†\" class=\"headerlink\" title=\"å®ç°åŸç†\"></a>å®ç°åŸç†</h2><ul>\n<li>*Android apkçš„zipåŒ…å†…META-INFæè¿°æ–‡ä»¶å¤¹å†…å†™å…¥ç©ºæ–‡ä»¶ã€‚æ–‡ä»¶åå°±æ˜¯æˆ‘ä»¬è¦æ‰“çš„æ¸ é“åŒ…ID</li>\n</ul>\n<ul>\n<li>*iOS åœ¨ipaå†…é€‰æ‹©Payload/{$APP_NAME}/_CodeSignaturre/ ä¸‹å†™å…¥AppInfo.plistæ–‡ä»¶ ç„¶åè¯»å–è¯¥æ–‡ä»¶å†…çš„channel key</li>\n</ul>\n<h2 id=\"ä½¿ç”¨åŒºåŸŸç½‘æœåŠ¡å™¨ä½œä¸ºä¸‹è½½æœåŠ¡å™¨ï¼Œå¦‚æœè¦ä½¿ç”¨iOSæ‰«æä¸‹è½½å®‰è£…ã€‚åˆ™éœ€è¦ä¿®æ”¹æœ¬åœ°pythonä»£ç -æ­å»ºæœ¬åœ°httpsç¯å¢ƒ-åˆ›å»ºCAè¯ä¹¦å®‰è£…åˆ°iPhoneä¸Š\"><a href=\"#ä½¿ç”¨åŒºåŸŸç½‘æœåŠ¡å™¨ä½œä¸ºä¸‹è½½æœåŠ¡å™¨ï¼Œå¦‚æœè¦ä½¿ç”¨iOSæ‰«æä¸‹è½½å®‰è£…ã€‚åˆ™éœ€è¦ä¿®æ”¹æœ¬åœ°pythonä»£ç -æ­å»ºæœ¬åœ°httpsç¯å¢ƒ-åˆ›å»ºCAè¯ä¹¦å®‰è£…åˆ°iPhoneä¸Š\" class=\"headerlink\" title=\"ä½¿ç”¨åŒºåŸŸç½‘æœåŠ¡å™¨ä½œä¸ºä¸‹è½½æœåŠ¡å™¨ï¼Œå¦‚æœè¦ä½¿ç”¨iOSæ‰«æä¸‹è½½å®‰è£…ã€‚åˆ™éœ€è¦ä¿®æ”¹æœ¬åœ°pythonä»£ç  æ­å»ºæœ¬åœ°httpsç¯å¢ƒ åˆ›å»ºCAè¯ä¹¦å®‰è£…åˆ°iPhoneä¸Š\"></a>ä½¿ç”¨åŒºåŸŸç½‘æœåŠ¡å™¨ä½œä¸ºä¸‹è½½æœåŠ¡å™¨ï¼Œå¦‚æœè¦ä½¿ç”¨iOSæ‰«æä¸‹è½½å®‰è£…ã€‚åˆ™éœ€è¦ä¿®æ”¹æœ¬åœ°pythonä»£ç  æ­å»ºæœ¬åœ°httpsç¯å¢ƒ åˆ›å»ºCAè¯ä¹¦å®‰è£…åˆ°iPhoneä¸Š</h2><h2 id=\"ä½¿ç”¨Python-æºç -éœ€è¦å®‰è£…ä¾èµ–åº“\"><a href=\"#ä½¿ç”¨Python-æºç -éœ€è¦å®‰è£…ä¾èµ–åº“\" class=\"headerlink\" title=\"ä½¿ç”¨Python æºç  éœ€è¦å®‰è£…ä¾èµ–åº“\"></a>ä½¿ç”¨Python æºç  éœ€è¦å®‰è£…ä¾èµ–åº“</h2><h1 id=\"æºç \"><a href=\"#æºç \" class=\"headerlink\" title=\"æºç \"></a><a href=\"https://github.com/yaooort/Apputils\" target=\"_blank\" rel=\"noopener\">æºç </a></h1>","site":{"data":{"links":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}},"excerpt":"","more":"<h1 id=\"APPå¿«é€Ÿæ‰“ä»£ç†åŒ…å·¥å…·\"><a href=\"#APPå¿«é€Ÿæ‰“ä»£ç†åŒ…å·¥å…·\" class=\"headerlink\" title=\"APPå¿«é€Ÿæ‰“ä»£ç†åŒ…å·¥å…·\"></a>APPå¿«é€Ÿæ‰“ä»£ç†åŒ…å·¥å…·</h1><p><em>å‰è¨€ï¼š</em><br>ä»£ç†åŒ…å¯ä»¥å¿«é€Ÿå¸®åŠ©æ¨å¹¿è¿è¥è¿›è¡Œå¤šæ¸ é“åˆ†å‘ï¼š  </p>\n<ul>\n<li>å®ç°å¤šæ¸ é“æ‰“åŒ…åŠiOSä¼ä¸šçº§åˆ†å‘åŒ…çš„å¿«é€Ÿç”Ÿæˆæ¸ é“åŒ…</li>\n<li>åªéœ€è¦ä¸€ä¸ªAndroid iOSåŸå§‹åŒ…å³å¯å¿«é€Ÿç”ŸæˆNä¸ªæ¸ é“å•†ä»£ç†åŒ…</li>\n<li>æ”¯æŒç”Ÿæˆä¹‹åå¿«é€Ÿæ‰«äºŒç»´ç ä¸‹è½½è¯¥æ¸ é“åŒ…æµ‹è¯•</li>\n<li>pythonå•æ–‡ä»¶GUIå¼€å‘ã€‚æ–¹ä¾¿æ‹†è§£åŠæ›¿æ¢appå†…æ–‡ä»¶ï¼ŒåŠåŠŸèƒ½æ¨¡å—å•ç‹¬ä½¿ç”¨</li>\n<li>å¯ç¼–è¯‘ä¸ºwindowsæ¡Œé¢ç¨‹åºå’Œmacæ¡Œé¢ç¨‹åº</li>\n</ul>\n<hr>\n<h2 id=\"ä¸Šæ•ˆæœå›¾\"><a href=\"#ä¸Šæ•ˆæœå›¾\" class=\"headerlink\" title=\"ä¸Šæ•ˆæœå›¾\"></a>ä¸Šæ•ˆæœå›¾</h2><p><img src=\"http://prr6elh1d.sabkt.gdipper.com/static/images/2975942-78ee969e74ad85b6.jpg\" alt=\"Jietu20180727-103944.jpg\"></p>\n<h2 id=\"æ³¨æ„äº‹é¡¹\"><a href=\"#æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"æ³¨æ„äº‹é¡¹\"></a>æ³¨æ„äº‹é¡¹</h2><ol>\n<li>Android ç­¾åæ‰“åŒ…æ—¶Signature Versionsä¸è¦å‹¾é€‰V2(Full APK Signature)(æ³¨æ„)<br>ä¸ç„¶ä¼šå¯¼è‡´ç­¾åå‡ºçš„åŒ…è¿›è¡Œå…¨åŒ…æ ¡éªŒæ—¶å®‰è£…å¤±è´¥ã€‚ï¼ˆç”±äºæ‰“åŒ…æ—¶ä¼šå°†æ–‡ä»¶å†™å…¥Apkä¸­ï¼ŒApkæ–‡ä»¶sha256å˜åŒ–ä¹‹å ç­¾åæ–‡ä»¶è®¤è¯ä¸è¿‡é€šï¼‰</li>\n<li>ios å¯ä»¥ä½¿ç”¨ä¼ä¸šç­¾ååŒ…ç­¾å‡ºåŸå§‹åŒ…è¿›è¡Œæ‰“åŒ…</li>\n<li>Androidç­¾è¿‡ä¹‹åçš„åŒ…ä¸èƒ½å†ç­¾ï¼Œéœ€è¦æ”¹Pythonä»£ç </li>\n</ol>\n<hr>\n<h2 id=\"ä½¿ç”¨æ–¹å¼\"><a href=\"#ä½¿ç”¨æ–¹å¼\" class=\"headerlink\" title=\"ä½¿ç”¨æ–¹å¼\"></a>ä½¿ç”¨æ–¹å¼</h2><h3 id=\"Androidä»£ç \"><a href=\"#Androidä»£ç \" class=\"headerlink\" title=\"Androidä»£ç \"></a>Androidä»£ç </h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * ä»apkä¸­è·å–ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@param</span> context</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@param</span> channelPrefix æ¸ é“å‰ç¼€</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title\">getChannelFromApk</span><span class=\"params\">(Context context, String channelPrefix)</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"comment\">//ä»apkåŒ…ä¸­è·å–</span></span><br><span class=\"line\">     ApplicationInfo appinfo = context.getApplicationInfo();</span><br><span class=\"line\">     String sourceDir = appinfo.sourceDir;</span><br><span class=\"line\">     <span class=\"comment\">//é»˜è®¤æ”¾åœ¨meta-inf/é‡Œï¼Œ æ‰€ä»¥éœ€è¦å†æ‹¼æ¥ä¸€ä¸‹</span></span><br><span class=\"line\">     String key = <span class=\"string\">\"META-INF/\"</span> + channelPrefix;</span><br><span class=\"line\">     String ret = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">     ZipFile zipfile = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">     <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">         zipfile = <span class=\"keyword\">new</span> ZipFile(sourceDir);</span><br><span class=\"line\">         Enumeration&lt;?&gt; entries = zipfile.entries();</span><br><span class=\"line\">         <span class=\"keyword\">while</span> (entries.hasMoreElements()) &#123;</span><br><span class=\"line\">             ZipEntry entry = ((ZipEntry) entries.nextElement());</span><br><span class=\"line\">             String entryName = entry.getName();</span><br><span class=\"line\">             <span class=\"keyword\">if</span> (entryName.startsWith(key)) &#123;</span><br><span class=\"line\">                 ret = entryName;</span><br><span class=\"line\">                 <span class=\"keyword\">break</span>;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">     &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">         e.printStackTrace();</span><br><span class=\"line\">     &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">if</span> (zipfile != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">             <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                 zipfile.close();</span><br><span class=\"line\">             &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">                 e.printStackTrace();</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     String[] split = ret.split(channelPrefix);</span><br><span class=\"line\">     String channel = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (split != <span class=\"keyword\">null</span> &amp;&amp; split.length &gt;= <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">         channel = ret.substring(key.length());</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     StorageLW.getSingleton().put(StorageKEY.APP_CHANNEL, channel);</span><br><span class=\"line\">     <span class=\"keyword\">return</span> channel;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"iOSä½¿ç”¨æ–¹å¼\"><a href=\"#iOSä½¿ç”¨æ–¹å¼\" class=\"headerlink\" title=\"iOSä½¿ç”¨æ–¹å¼\"></a>iOSä½¿ç”¨æ–¹å¼</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/*! è¯»å–æ¸ é“ID */</span><br><span class=\"line\">+ (NSString *)channel&#123;</span><br><span class=\"line\">   NSString *resourceDirectory = [[NSBundle mainBundle] resourcePath];</span><br><span class=\"line\">   NSString *CodeSignaturePath = [resourceDirectory stringByAppendingPathComponent:@&quot;/_CodeSignature/AppInfo.plist&quot;];</span><br><span class=\"line\">   NSMutableDictionary *data = [[NSMutableDictionary alloc]initWithContentsOfFile:CodeSignaturePath];</span><br><span class=\"line\">   NSString *cid = [data objectForKey:@&quot;channel&quot;];</span><br><span class=\"line\">   if(!cid)&#123;</span><br><span class=\"line\">       cid = @&quot;&quot;;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   return cid;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"å®ç°åŸç†\"><a href=\"#å®ç°åŸç†\" class=\"headerlink\" title=\"å®ç°åŸç†\"></a>å®ç°åŸç†</h2><ul>\n<li>*Android apkçš„zipåŒ…å†…META-INFæè¿°æ–‡ä»¶å¤¹å†…å†™å…¥ç©ºæ–‡ä»¶ã€‚æ–‡ä»¶åå°±æ˜¯æˆ‘ä»¬è¦æ‰“çš„æ¸ é“åŒ…ID</li>\n</ul>\n<ul>\n<li>*iOS åœ¨ipaå†…é€‰æ‹©Payload/{$APP_NAME}/_CodeSignaturre/ ä¸‹å†™å…¥AppInfo.plistæ–‡ä»¶ ç„¶åè¯»å–è¯¥æ–‡ä»¶å†…çš„channel key</li>\n</ul>\n<h2 id=\"ä½¿ç”¨åŒºåŸŸç½‘æœåŠ¡å™¨ä½œä¸ºä¸‹è½½æœåŠ¡å™¨ï¼Œå¦‚æœè¦ä½¿ç”¨iOSæ‰«æä¸‹è½½å®‰è£…ã€‚åˆ™éœ€è¦ä¿®æ”¹æœ¬åœ°pythonä»£ç -æ­å»ºæœ¬åœ°httpsç¯å¢ƒ-åˆ›å»ºCAè¯ä¹¦å®‰è£…åˆ°iPhoneä¸Š\"><a href=\"#ä½¿ç”¨åŒºåŸŸç½‘æœåŠ¡å™¨ä½œä¸ºä¸‹è½½æœåŠ¡å™¨ï¼Œå¦‚æœè¦ä½¿ç”¨iOSæ‰«æä¸‹è½½å®‰è£…ã€‚åˆ™éœ€è¦ä¿®æ”¹æœ¬åœ°pythonä»£ç -æ­å»ºæœ¬åœ°httpsç¯å¢ƒ-åˆ›å»ºCAè¯ä¹¦å®‰è£…åˆ°iPhoneä¸Š\" class=\"headerlink\" title=\"ä½¿ç”¨åŒºåŸŸç½‘æœåŠ¡å™¨ä½œä¸ºä¸‹è½½æœåŠ¡å™¨ï¼Œå¦‚æœè¦ä½¿ç”¨iOSæ‰«æä¸‹è½½å®‰è£…ã€‚åˆ™éœ€è¦ä¿®æ”¹æœ¬åœ°pythonä»£ç  æ­å»ºæœ¬åœ°httpsç¯å¢ƒ åˆ›å»ºCAè¯ä¹¦å®‰è£…åˆ°iPhoneä¸Š\"></a>ä½¿ç”¨åŒºåŸŸç½‘æœåŠ¡å™¨ä½œä¸ºä¸‹è½½æœåŠ¡å™¨ï¼Œå¦‚æœè¦ä½¿ç”¨iOSæ‰«æä¸‹è½½å®‰è£…ã€‚åˆ™éœ€è¦ä¿®æ”¹æœ¬åœ°pythonä»£ç  æ­å»ºæœ¬åœ°httpsç¯å¢ƒ åˆ›å»ºCAè¯ä¹¦å®‰è£…åˆ°iPhoneä¸Š</h2><h2 id=\"ä½¿ç”¨Python-æºç -éœ€è¦å®‰è£…ä¾èµ–åº“\"><a href=\"#ä½¿ç”¨Python-æºç -éœ€è¦å®‰è£…ä¾èµ–åº“\" class=\"headerlink\" title=\"ä½¿ç”¨Python æºç  éœ€è¦å®‰è£…ä¾èµ–åº“\"></a>ä½¿ç”¨Python æºç  éœ€è¦å®‰è£…ä¾èµ–åº“</h2><h1 id=\"æºç \"><a href=\"#æºç \" class=\"headerlink\" title=\"æºç \"></a><a href=\"https://github.com/yaooort/Apputils\" target=\"_blank\" rel=\"noopener\">æºç </a></h1>"},{"title":"Node.jså®‰è£…çš„æ ‡å‡†å§¿åŠ¿","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3213.jpg","date":"2019-05-19T15:01:59.000Z","subtitle":"Node.jså®‰è£…æ ‡å‡†å§¿åŠ¿","_content":"### 1.å¸è½½node.js\n- ä¸ºäº†å¯¹åç»­å®‰è£…ä¸é€ æˆå½±å“ï¼Œå…ˆå¸è½½æœ¬åœ°å·²ç»å®‰è£…å¥½çš„ç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯æ–°çš„è®¾å¤‡ä¸éœ€è¦ï¼Œç›´æ¥å®‰è£…å³å¯ã€‚æ¨èä½¿ç”¨nvmç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„node.jsã€‚\n\nmac å®Œå…¨å¸è½½node.js [ä½¿ç”¨è¿™ä½è€å…„çš„åŠæ³•ï¼Œå¥½ä½¿ã€‚](https://blog.csdn.net/shiquanqq/article/details/78032943)\n\n##### homebrewå®‰è£…çš„\n* ç›´æ¥ä¸€æ¡å‘½ä»¤ \n```console\nbrew uninstall node\n```\n##### å®˜ç½‘ä¸‹è½½pkgå®‰è£…åŒ…çš„\n* ä¸€æ¡å‘½ä»¤ \n```console\nsudo rm -rf /usr/local/{bin/{node,npm},lib/node_modules/npm,lib/node,share/man/*/node.*}\n```\n##### å…¶ä»–\n* ç¼–å†™è„šæœ¬uninstallnode.sh\n\n```sh\n#!/bin/bash\nlsbom -f -l -s -pf /var/db/receipts/org.nodejs.pkg.bom \\\n| while read i; do\n  sudo rm /usr/local/${i}\ndone\nsudo rm -rf /usr/local/lib/node \\\n     /usr/local/lib/node_modules \\\n     /var/db/receipts/org.nodejs.*\n```\n\n* ä¿®æ”¹æ–‡ä»¶æƒé™ chmod 777 uninstallNodejs.sh \nåœ¨å‘½ä»¤è¡Œæ‰§è¡Œ\n\n### 2.å®‰è£…[nvm](https://github.com/creationix/nvm)\n\n* æ¨èä½¿ç”¨è¿™ç§æ–¹å¼\n```\ncurl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash\n```\n* æˆ–è€…\n```\nwget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash\n```\n* å®‰è£…å®Œæˆï¼Œæµ‹è¯•nvm æ˜¯å¦å®‰è£…æˆåŠŸ\n```nvm\nnvm --version\n```\n- å¦‚æœæ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸï¼Œç›´æ¥ç•¥è¿‡ä¸‹é¢\n* è¿™ç§å®‰è£…æ–¹å¼ä¼šè‡ªåŠ¨æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯æœ€å¥½å…ˆæ£€æŸ¥ä¸€ä¸‹ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æ­£ç¡®\n```\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] && \\. \"$NVM_DIR/nvm.sh\"  # This loads nvm\n[ -s \"$NVM_DIR/bash_completion\" ] && \\. \"$NVM_DIR/bash_completion\"  # This loads nvm bash_completion\n```\n* é‡æ–°åŠ è½½ç³»ç»Ÿç¯å¢ƒå˜é‡\n```\nsource ~/.bash_profile\n```\n\n##### 3.ä½¿ç”¨nvmç®¡ç†node\n* æŸ¥çœ‹è¿œç¨‹nodeç‰ˆæœ¬\n```nvm\nnvm ls-remote \n```\n* å®‰è£…è¿œç¨‹çº¿ä¸Šnodeï¼Œnvm install ç‰ˆæœ¬å·\n```nvm\nnvm install 8.11.3\n```\n* æŸ¥çœ‹æœ¬åœ°å·²å®‰è£…ç‰ˆæœ¬ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯v8.10.0\n```\nyaodeMacBook-Pro:/ yao$ nvm ls\n->      v8.10.0\n        v8.11.3\ndefault -> 8.11.3 (-> v8.11.3)\nnode -> stable (-> v8.11.3) (default)\nstable -> 8.11 (-> v8.11.3) (default)\niojs -> N/A (default)\nlts/* -> lts/carbon (-> v8.11.3)\nlts/argon -> v4.9.1 (-> N/A)\nlts/boron -> v6.14.3 (-> N/A)\nlts/carbon -> v8.11.3\n\n```\n* ä½¿ç”¨ä¸€ä¸ªç‰ˆæœ¬\n```\nnvm use v8.11.3\n```\n##### 4.ä½¿ç”¨\n* ç›´æ¥å‘½ä»¤è¡Œäº¤äº’å¼\n```\nyaodeMacBook-Pro:/ yao$ node\n> var a = 12\nundefined\n> var b = 22\nundefined\n> a+b\n34\n> \n```\n* ä½¿ç”¨node xxx.js\n```\nyaodeMacBook-Pro:node yao$ node serverhello.js \nServer running at http://127.0.0.1:8888/\n```\n* å®‰è£…nodemon è‡ªåŠ¨ç›‘å¬jsæ”¹åŠ¨ï¼Œè‡ªåŠ¨é‡æ–°æ‰§è¡Œ\n```\nnpm install nodemon\n```\n##### 5.æ¨¡å—çš„ä½¿ç”¨\n* Node.jsçš„æ¨¡å—ç³»ç»Ÿé‡‡ç”¨CommonJSè§„èŒƒ\n> CommonJSæ ‡å‡†è§„å®š \n> *  ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—\n> * æ¨¡å—å†…å°†éœ€è¦å¯¹å¤–æš´éœ²çš„å˜é‡æ”¾åˆ°exportså¯¹è±¡é‡Œï¼Œå¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œå‡½æ•°ï¼Œæ•°ç»„ç­‰ï¼Œæœªæ”¾åˆ°exportså¯¹è±¡é‡Œçš„éƒ½æ˜¯ç§æœ‰çš„ã€‚\n> * ä½¿ç”¨requireæ–¹æ³•åŠ è½½æ¨¡å—ï¼Œå³è¯»å–æ¨¡å—æ–‡ä»¶è·å¾—exportså¯¹è±¡\n> * é»˜è®¤æ¯ä¸ª.jsæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªmoduleï¼Œå¯ä»¥ä½¿ç”¨module.exportsæš´éœ²å¯¹å¤–çš„æ¨¡å—æ–¹æ³•\n> * ä½¿ç”¨requireå¼•å…¥æ¨¡å—æ—¶ï¼Œæ¨¡å—è·¯å¾„åé¢çš„jsæ–‡ä»¶å»ºè®®ä¸åŠ åç¼€ï¼ˆ.jsï¼‰\n```javascript\n//é»˜è®¤æ¯ä¸ªjsæ–‡ä»¶æ¨¡å—ä¸ºä¸€ä¸ªç©ºå¯¹è±¡\nexports = module.exports = {}\n\n//å¯ä»¥ä½¿ç”¨,è¿™ç§æ–¹å¼ç»™æ‰©å±•æ·»åŠ å¯¹å¤–çš„å±æ€§\nexports.xxx = xxx;\n\n//ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ç›´æ¥èµ‹å€¼å¯¹è±¡,æ›´æ¢åŸæœ‰çš„å¯¹è±¡\nmodule.exports = {xxx:xxx}\n\n//ä¸è¦ä½¿ç”¨ï¼Œç›´æ¥æ”¹å˜è¯¥å¯¹è±¡åœ°å€ï¼Œä¼šå¯¼è‡´module.exportså¯¹è±¡ä¸ä¼šæœ‰ä»»ä½•æ”¹å˜ã€‚\nexports = {}\n```\n\n##### 6.å…¨å±€å˜é‡å’Œæ¨¡å—å±æ€§\n###### å…¨å±€å˜é‡\n* __dirname :å½“å‰æ¨¡å—æ‰€åœ¨ç›®å½•è·¯å¾„\n* __filename : å½“å‰æ¨¡å—çš„æ–‡ä»¶åç§°\n* console\n ###### æ¨¡å—å±æ€§\n* module.id : æ¨¡å—çš„å”¯ä¸€æ ‡è¯†\n* module.loaded : æ ‡è®°æ¨¡å—æ˜¯å¦åŠ è½½\n* module.parent :  å¼•ç”¨æ¨¡å—çš„æ¨¡å—\n\n###### æ¨¡å—åˆ†ç±»\n* æ ¸å¿ƒæ¨¡å—ï¼šnode.jså†…ç½®çš„æ¨¡å—\n* æ–‡ä»¶æ¨¡å—ï¼šè‡ªå·±å†™çš„æ¨¡å—å’Œç¬¬ä¸‰æ–¹æä¾›çš„æ¨¡å—\n","source":"_posts/Node-jså®‰è£….md","raw":"---\ntitle: Node.jså®‰è£…çš„æ ‡å‡†å§¿åŠ¿\ncover: 'http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3213.jpg'\ndate: 2019-05-19 23:01:59\nsubtitle: Node.jså®‰è£…æ ‡å‡†å§¿åŠ¿\ncategories:\n- js\ntags:\n- js\n---\n### 1.å¸è½½node.js\n- ä¸ºäº†å¯¹åç»­å®‰è£…ä¸é€ æˆå½±å“ï¼Œå…ˆå¸è½½æœ¬åœ°å·²ç»å®‰è£…å¥½çš„ç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯æ–°çš„è®¾å¤‡ä¸éœ€è¦ï¼Œç›´æ¥å®‰è£…å³å¯ã€‚æ¨èä½¿ç”¨nvmç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„node.jsã€‚\n\nmac å®Œå…¨å¸è½½node.js [ä½¿ç”¨è¿™ä½è€å…„çš„åŠæ³•ï¼Œå¥½ä½¿ã€‚](https://blog.csdn.net/shiquanqq/article/details/78032943)\n\n##### homebrewå®‰è£…çš„\n* ç›´æ¥ä¸€æ¡å‘½ä»¤ \n```console\nbrew uninstall node\n```\n##### å®˜ç½‘ä¸‹è½½pkgå®‰è£…åŒ…çš„\n* ä¸€æ¡å‘½ä»¤ \n```console\nsudo rm -rf /usr/local/{bin/{node,npm},lib/node_modules/npm,lib/node,share/man/*/node.*}\n```\n##### å…¶ä»–\n* ç¼–å†™è„šæœ¬uninstallnode.sh\n\n```sh\n#!/bin/bash\nlsbom -f -l -s -pf /var/db/receipts/org.nodejs.pkg.bom \\\n| while read i; do\n  sudo rm /usr/local/${i}\ndone\nsudo rm -rf /usr/local/lib/node \\\n     /usr/local/lib/node_modules \\\n     /var/db/receipts/org.nodejs.*\n```\n\n* ä¿®æ”¹æ–‡ä»¶æƒé™ chmod 777 uninstallNodejs.sh \nåœ¨å‘½ä»¤è¡Œæ‰§è¡Œ\n\n### 2.å®‰è£…[nvm](https://github.com/creationix/nvm)\n\n* æ¨èä½¿ç”¨è¿™ç§æ–¹å¼\n```\ncurl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash\n```\n* æˆ–è€…\n```\nwget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash\n```\n* å®‰è£…å®Œæˆï¼Œæµ‹è¯•nvm æ˜¯å¦å®‰è£…æˆåŠŸ\n```nvm\nnvm --version\n```\n- å¦‚æœæ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸï¼Œç›´æ¥ç•¥è¿‡ä¸‹é¢\n* è¿™ç§å®‰è£…æ–¹å¼ä¼šè‡ªåŠ¨æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯æœ€å¥½å…ˆæ£€æŸ¥ä¸€ä¸‹ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æ­£ç¡®\n```\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] && \\. \"$NVM_DIR/nvm.sh\"  # This loads nvm\n[ -s \"$NVM_DIR/bash_completion\" ] && \\. \"$NVM_DIR/bash_completion\"  # This loads nvm bash_completion\n```\n* é‡æ–°åŠ è½½ç³»ç»Ÿç¯å¢ƒå˜é‡\n```\nsource ~/.bash_profile\n```\n\n##### 3.ä½¿ç”¨nvmç®¡ç†node\n* æŸ¥çœ‹è¿œç¨‹nodeç‰ˆæœ¬\n```nvm\nnvm ls-remote \n```\n* å®‰è£…è¿œç¨‹çº¿ä¸Šnodeï¼Œnvm install ç‰ˆæœ¬å·\n```nvm\nnvm install 8.11.3\n```\n* æŸ¥çœ‹æœ¬åœ°å·²å®‰è£…ç‰ˆæœ¬ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯v8.10.0\n```\nyaodeMacBook-Pro:/ yao$ nvm ls\n->      v8.10.0\n        v8.11.3\ndefault -> 8.11.3 (-> v8.11.3)\nnode -> stable (-> v8.11.3) (default)\nstable -> 8.11 (-> v8.11.3) (default)\niojs -> N/A (default)\nlts/* -> lts/carbon (-> v8.11.3)\nlts/argon -> v4.9.1 (-> N/A)\nlts/boron -> v6.14.3 (-> N/A)\nlts/carbon -> v8.11.3\n\n```\n* ä½¿ç”¨ä¸€ä¸ªç‰ˆæœ¬\n```\nnvm use v8.11.3\n```\n##### 4.ä½¿ç”¨\n* ç›´æ¥å‘½ä»¤è¡Œäº¤äº’å¼\n```\nyaodeMacBook-Pro:/ yao$ node\n> var a = 12\nundefined\n> var b = 22\nundefined\n> a+b\n34\n> \n```\n* ä½¿ç”¨node xxx.js\n```\nyaodeMacBook-Pro:node yao$ node serverhello.js \nServer running at http://127.0.0.1:8888/\n```\n* å®‰è£…nodemon è‡ªåŠ¨ç›‘å¬jsæ”¹åŠ¨ï¼Œè‡ªåŠ¨é‡æ–°æ‰§è¡Œ\n```\nnpm install nodemon\n```\n##### 5.æ¨¡å—çš„ä½¿ç”¨\n* Node.jsçš„æ¨¡å—ç³»ç»Ÿé‡‡ç”¨CommonJSè§„èŒƒ\n> CommonJSæ ‡å‡†è§„å®š \n> *  ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—\n> * æ¨¡å—å†…å°†éœ€è¦å¯¹å¤–æš´éœ²çš„å˜é‡æ”¾åˆ°exportså¯¹è±¡é‡Œï¼Œå¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œå‡½æ•°ï¼Œæ•°ç»„ç­‰ï¼Œæœªæ”¾åˆ°exportså¯¹è±¡é‡Œçš„éƒ½æ˜¯ç§æœ‰çš„ã€‚\n> * ä½¿ç”¨requireæ–¹æ³•åŠ è½½æ¨¡å—ï¼Œå³è¯»å–æ¨¡å—æ–‡ä»¶è·å¾—exportså¯¹è±¡\n> * é»˜è®¤æ¯ä¸ª.jsæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªmoduleï¼Œå¯ä»¥ä½¿ç”¨module.exportsæš´éœ²å¯¹å¤–çš„æ¨¡å—æ–¹æ³•\n> * ä½¿ç”¨requireå¼•å…¥æ¨¡å—æ—¶ï¼Œæ¨¡å—è·¯å¾„åé¢çš„jsæ–‡ä»¶å»ºè®®ä¸åŠ åç¼€ï¼ˆ.jsï¼‰\n```javascript\n//é»˜è®¤æ¯ä¸ªjsæ–‡ä»¶æ¨¡å—ä¸ºä¸€ä¸ªç©ºå¯¹è±¡\nexports = module.exports = {}\n\n//å¯ä»¥ä½¿ç”¨,è¿™ç§æ–¹å¼ç»™æ‰©å±•æ·»åŠ å¯¹å¤–çš„å±æ€§\nexports.xxx = xxx;\n\n//ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ç›´æ¥èµ‹å€¼å¯¹è±¡,æ›´æ¢åŸæœ‰çš„å¯¹è±¡\nmodule.exports = {xxx:xxx}\n\n//ä¸è¦ä½¿ç”¨ï¼Œç›´æ¥æ”¹å˜è¯¥å¯¹è±¡åœ°å€ï¼Œä¼šå¯¼è‡´module.exportså¯¹è±¡ä¸ä¼šæœ‰ä»»ä½•æ”¹å˜ã€‚\nexports = {}\n```\n\n##### 6.å…¨å±€å˜é‡å’Œæ¨¡å—å±æ€§\n###### å…¨å±€å˜é‡\n* __dirname :å½“å‰æ¨¡å—æ‰€åœ¨ç›®å½•è·¯å¾„\n* __filename : å½“å‰æ¨¡å—çš„æ–‡ä»¶åç§°\n* console\n ###### æ¨¡å—å±æ€§\n* module.id : æ¨¡å—çš„å”¯ä¸€æ ‡è¯†\n* module.loaded : æ ‡è®°æ¨¡å—æ˜¯å¦åŠ è½½\n* module.parent :  å¼•ç”¨æ¨¡å—çš„æ¨¡å—\n\n###### æ¨¡å—åˆ†ç±»\n* æ ¸å¿ƒæ¨¡å—ï¼šnode.jså†…ç½®çš„æ¨¡å—\n* æ–‡ä»¶æ¨¡å—ï¼šè‡ªå·±å†™çš„æ¨¡å—å’Œç¬¬ä¸‰æ–¹æä¾›çš„æ¨¡å—\n","slug":"Node-jså®‰è£…","published":1,"updated":"2019-05-19T15:04:06.227Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjvv41zgv0002cvofeg41bl7g","content":"<h3 id=\"1-å¸è½½node-js\"><a href=\"#1-å¸è½½node-js\" class=\"headerlink\" title=\"1.å¸è½½node.js\"></a>1.å¸è½½node.js</h3><ul>\n<li>ä¸ºäº†å¯¹åç»­å®‰è£…ä¸é€ æˆå½±å“ï¼Œå…ˆå¸è½½æœ¬åœ°å·²ç»å®‰è£…å¥½çš„ç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯æ–°çš„è®¾å¤‡ä¸éœ€è¦ï¼Œç›´æ¥å®‰è£…å³å¯ã€‚æ¨èä½¿ç”¨nvmç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„node.jsã€‚</li>\n</ul>\n<p>mac å®Œå…¨å¸è½½node.js <a href=\"https://blog.csdn.net/shiquanqq/article/details/78032943\" target=\"_blank\" rel=\"noopener\">ä½¿ç”¨è¿™ä½è€å…„çš„åŠæ³•ï¼Œå¥½ä½¿ã€‚</a></p>\n<h5 id=\"homebrewå®‰è£…çš„\"><a href=\"#homebrewå®‰è£…çš„\" class=\"headerlink\" title=\"homebrewå®‰è£…çš„\"></a>homebrewå®‰è£…çš„</h5><ul>\n<li>ç›´æ¥ä¸€æ¡å‘½ä»¤ <figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew uninstall node</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h5 id=\"å®˜ç½‘ä¸‹è½½pkgå®‰è£…åŒ…çš„\"><a href=\"#å®˜ç½‘ä¸‹è½½pkgå®‰è£…åŒ…çš„\" class=\"headerlink\" title=\"å®˜ç½‘ä¸‹è½½pkgå®‰è£…åŒ…çš„\"></a>å®˜ç½‘ä¸‹è½½pkgå®‰è£…åŒ…çš„</h5><ul>\n<li>ä¸€æ¡å‘½ä»¤ <figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rm -rf /usr/local/&#123;bin/&#123;node,npm&#125;,lib/node_modules/npm,lib/node,share/man/*/node.*&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h5 id=\"å…¶ä»–\"><a href=\"#å…¶ä»–\" class=\"headerlink\" title=\"å…¶ä»–\"></a>å…¶ä»–</h5><ul>\n<li>ç¼–å†™è„šæœ¬uninstallnode.sh</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">lsbom -f -l -s -pf /var/db/receipts/org.nodejs.pkg.bom \\</span><br><span class=\"line\">| <span class=\"keyword\">while</span> <span class=\"built_in\">read</span> i; <span class=\"keyword\">do</span></span><br><span class=\"line\">  sudo rm /usr/<span class=\"built_in\">local</span>/<span class=\"variable\">$&#123;i&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\">sudo rm -rf /usr/<span class=\"built_in\">local</span>/lib/node \\</span><br><span class=\"line\">     /usr/<span class=\"built_in\">local</span>/lib/node_modules \\</span><br><span class=\"line\">     /var/db/receipts/org.nodejs.*</span><br></pre></td></tr></table></figure>\n<ul>\n<li>ä¿®æ”¹æ–‡ä»¶æƒé™ chmod 777 uninstallNodejs.sh<br>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ</li>\n</ul>\n<h3 id=\"2-å®‰è£…nvm\"><a href=\"#2-å®‰è£…nvm\" class=\"headerlink\" title=\"2.å®‰è£…nvm\"></a>2.å®‰è£…<a href=\"https://github.com/creationix/nvm\" target=\"_blank\" rel=\"noopener\">nvm</a></h3><ul>\n<li><p>æ¨èä½¿ç”¨è¿™ç§æ–¹å¼</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æˆ–è€…</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å®‰è£…å®Œæˆï¼Œæµ‹è¯•nvm æ˜¯å¦å®‰è£…æˆåŠŸ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm --version</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<ul>\n<li>å¦‚æœæ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸï¼Œç›´æ¥ç•¥è¿‡ä¸‹é¢</li>\n</ul>\n<ul>\n<li><p>è¿™ç§å®‰è£…æ–¹å¼ä¼šè‡ªåŠ¨æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯æœ€å¥½å…ˆæ£€æŸ¥ä¸€ä¸‹ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æ­£ç¡®</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export NVM_DIR=&quot;$HOME/.nvm&quot;</span><br><span class=\"line\">[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm</span><br><span class=\"line\">[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>é‡æ–°åŠ è½½ç³»ç»Ÿç¯å¢ƒå˜é‡</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bash_profile</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h5 id=\"3-ä½¿ç”¨nvmç®¡ç†node\"><a href=\"#3-ä½¿ç”¨nvmç®¡ç†node\" class=\"headerlink\" title=\"3.ä½¿ç”¨nvmç®¡ç†node\"></a>3.ä½¿ç”¨nvmç®¡ç†node</h5><ul>\n<li><p>æŸ¥çœ‹è¿œç¨‹nodeç‰ˆæœ¬</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls-remote</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å®‰è£…è¿œç¨‹çº¿ä¸Šnodeï¼Œnvm install ç‰ˆæœ¬å·</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install 8.11.3</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æŸ¥çœ‹æœ¬åœ°å·²å®‰è£…ç‰ˆæœ¬ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯v8.10.0</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yaodeMacBook-Pro:/ yao$ nvm ls</span><br><span class=\"line\">-&gt;      v8.10.0</span><br><span class=\"line\">        v8.11.3</span><br><span class=\"line\">default -&gt; 8.11.3 (-&gt; v8.11.3)</span><br><span class=\"line\">node -&gt; stable (-&gt; v8.11.3) (default)</span><br><span class=\"line\">stable -&gt; 8.11 (-&gt; v8.11.3) (default)</span><br><span class=\"line\">iojs -&gt; N/A (default)</span><br><span class=\"line\">lts/* -&gt; lts/carbon (-&gt; v8.11.3)</span><br><span class=\"line\">lts/argon -&gt; v4.9.1 (-&gt; N/A)</span><br><span class=\"line\">lts/boron -&gt; v6.14.3 (-&gt; N/A)</span><br><span class=\"line\">lts/carbon -&gt; v8.11.3</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä½¿ç”¨ä¸€ä¸ªç‰ˆæœ¬</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use v8.11.3</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h5 id=\"4-ä½¿ç”¨\"><a href=\"#4-ä½¿ç”¨\" class=\"headerlink\" title=\"4.ä½¿ç”¨\"></a>4.ä½¿ç”¨</h5><ul>\n<li><p>ç›´æ¥å‘½ä»¤è¡Œäº¤äº’å¼</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yaodeMacBook-Pro:/ yao$ node</span><br><span class=\"line\">&gt; var a = 12</span><br><span class=\"line\">undefined</span><br><span class=\"line\">&gt; var b = 22</span><br><span class=\"line\">undefined</span><br><span class=\"line\">&gt; a+b</span><br><span class=\"line\">34</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä½¿ç”¨node xxx.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yaodeMacBook-Pro:node yao$ node serverhello.js </span><br><span class=\"line\">Server running at http://127.0.0.1:8888/</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å®‰è£…nodemon è‡ªåŠ¨ç›‘å¬jsæ”¹åŠ¨ï¼Œè‡ªåŠ¨é‡æ–°æ‰§è¡Œ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install nodemon</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h5 id=\"5-æ¨¡å—çš„ä½¿ç”¨\"><a href=\"#5-æ¨¡å—çš„ä½¿ç”¨\" class=\"headerlink\" title=\"5.æ¨¡å—çš„ä½¿ç”¨\"></a>5.æ¨¡å—çš„ä½¿ç”¨</h5><ul>\n<li>Node.jsçš„æ¨¡å—ç³»ç»Ÿé‡‡ç”¨CommonJSè§„èŒƒ<blockquote>\n<p>CommonJSæ ‡å‡†è§„å®š </p>\n<ul>\n<li>ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—</li>\n<li>æ¨¡å—å†…å°†éœ€è¦å¯¹å¤–æš´éœ²çš„å˜é‡æ”¾åˆ°exportså¯¹è±¡é‡Œï¼Œå¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œå‡½æ•°ï¼Œæ•°ç»„ç­‰ï¼Œæœªæ”¾åˆ°exportså¯¹è±¡é‡Œçš„éƒ½æ˜¯ç§æœ‰çš„ã€‚</li>\n<li>ä½¿ç”¨requireæ–¹æ³•åŠ è½½æ¨¡å—ï¼Œå³è¯»å–æ¨¡å—æ–‡ä»¶è·å¾—exportså¯¹è±¡</li>\n<li>é»˜è®¤æ¯ä¸ª.jsæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªmoduleï¼Œå¯ä»¥ä½¿ç”¨module.exportsæš´éœ²å¯¹å¤–çš„æ¨¡å—æ–¹æ³•</li>\n<li>ä½¿ç”¨requireå¼•å…¥æ¨¡å—æ—¶ï¼Œæ¨¡å—è·¯å¾„åé¢çš„jsæ–‡ä»¶å»ºè®®ä¸åŠ åç¼€ï¼ˆ.jsï¼‰<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//é»˜è®¤æ¯ä¸ªjsæ–‡ä»¶æ¨¡å—ä¸ºä¸€ä¸ªç©ºå¯¹è±¡</span></span><br><span class=\"line\">exports = <span class=\"built_in\">module</span>.exports = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å¯ä»¥ä½¿ç”¨,è¿™ç§æ–¹å¼ç»™æ‰©å±•æ·»åŠ å¯¹å¤–çš„å±æ€§</span></span><br><span class=\"line\">exports.xxx = xxx;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ç›´æ¥èµ‹å€¼å¯¹è±¡,æ›´æ¢åŸæœ‰çš„å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;<span class=\"attr\">xxx</span>:xxx&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ä¸è¦ä½¿ç”¨ï¼Œç›´æ¥æ”¹å˜è¯¥å¯¹è±¡åœ°å€ï¼Œä¼šå¯¼è‡´module.exportså¯¹è±¡ä¸ä¼šæœ‰ä»»ä½•æ”¹å˜ã€‚</span></span><br><span class=\"line\">exports = &#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<h5 id=\"6-å…¨å±€å˜é‡å’Œæ¨¡å—å±æ€§\"><a href=\"#6-å…¨å±€å˜é‡å’Œæ¨¡å—å±æ€§\" class=\"headerlink\" title=\"6.å…¨å±€å˜é‡å’Œæ¨¡å—å±æ€§\"></a>6.å…¨å±€å˜é‡å’Œæ¨¡å—å±æ€§</h5><h6 id=\"å…¨å±€å˜é‡\"><a href=\"#å…¨å±€å˜é‡\" class=\"headerlink\" title=\"å…¨å±€å˜é‡\"></a>å…¨å±€å˜é‡</h6><ul>\n<li>__dirname :å½“å‰æ¨¡å—æ‰€åœ¨ç›®å½•è·¯å¾„</li>\n<li>__filename : å½“å‰æ¨¡å—çš„æ–‡ä»¶åç§°</li>\n<li>console<h6 id=\"æ¨¡å—å±æ€§\"><a href=\"#æ¨¡å—å±æ€§\" class=\"headerlink\" title=\"æ¨¡å—å±æ€§\"></a>æ¨¡å—å±æ€§</h6></li>\n<li>module.id : æ¨¡å—çš„å”¯ä¸€æ ‡è¯†</li>\n<li>module.loaded : æ ‡è®°æ¨¡å—æ˜¯å¦åŠ è½½</li>\n<li>module.parent :  å¼•ç”¨æ¨¡å—çš„æ¨¡å—</li>\n</ul>\n<h6 id=\"æ¨¡å—åˆ†ç±»\"><a href=\"#æ¨¡å—åˆ†ç±»\" class=\"headerlink\" title=\"æ¨¡å—åˆ†ç±»\"></a>æ¨¡å—åˆ†ç±»</h6><ul>\n<li>æ ¸å¿ƒæ¨¡å—ï¼šnode.jså†…ç½®çš„æ¨¡å—</li>\n<li>æ–‡ä»¶æ¨¡å—ï¼šè‡ªå·±å†™çš„æ¨¡å—å’Œç¬¬ä¸‰æ–¹æä¾›çš„æ¨¡å—</li>\n</ul>\n","site":{"data":{"links":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}},"excerpt":"","more":"<h3 id=\"1-å¸è½½node-js\"><a href=\"#1-å¸è½½node-js\" class=\"headerlink\" title=\"1.å¸è½½node.js\"></a>1.å¸è½½node.js</h3><ul>\n<li>ä¸ºäº†å¯¹åç»­å®‰è£…ä¸é€ æˆå½±å“ï¼Œå…ˆå¸è½½æœ¬åœ°å·²ç»å®‰è£…å¥½çš„ç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯æ–°çš„è®¾å¤‡ä¸éœ€è¦ï¼Œç›´æ¥å®‰è£…å³å¯ã€‚æ¨èä½¿ç”¨nvmç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„node.jsã€‚</li>\n</ul>\n<p>mac å®Œå…¨å¸è½½node.js <a href=\"https://blog.csdn.net/shiquanqq/article/details/78032943\" target=\"_blank\" rel=\"noopener\">ä½¿ç”¨è¿™ä½è€å…„çš„åŠæ³•ï¼Œå¥½ä½¿ã€‚</a></p>\n<h5 id=\"homebrewå®‰è£…çš„\"><a href=\"#homebrewå®‰è£…çš„\" class=\"headerlink\" title=\"homebrewå®‰è£…çš„\"></a>homebrewå®‰è£…çš„</h5><ul>\n<li>ç›´æ¥ä¸€æ¡å‘½ä»¤ <figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew uninstall node</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h5 id=\"å®˜ç½‘ä¸‹è½½pkgå®‰è£…åŒ…çš„\"><a href=\"#å®˜ç½‘ä¸‹è½½pkgå®‰è£…åŒ…çš„\" class=\"headerlink\" title=\"å®˜ç½‘ä¸‹è½½pkgå®‰è£…åŒ…çš„\"></a>å®˜ç½‘ä¸‹è½½pkgå®‰è£…åŒ…çš„</h5><ul>\n<li>ä¸€æ¡å‘½ä»¤ <figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rm -rf /usr/local/&#123;bin/&#123;node,npm&#125;,lib/node_modules/npm,lib/node,share/man/*/node.*&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h5 id=\"å…¶ä»–\"><a href=\"#å…¶ä»–\" class=\"headerlink\" title=\"å…¶ä»–\"></a>å…¶ä»–</h5><ul>\n<li>ç¼–å†™è„šæœ¬uninstallnode.sh</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">lsbom -f -l -s -pf /var/db/receipts/org.nodejs.pkg.bom \\</span><br><span class=\"line\">| <span class=\"keyword\">while</span> <span class=\"built_in\">read</span> i; <span class=\"keyword\">do</span></span><br><span class=\"line\">  sudo rm /usr/<span class=\"built_in\">local</span>/<span class=\"variable\">$&#123;i&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\">sudo rm -rf /usr/<span class=\"built_in\">local</span>/lib/node \\</span><br><span class=\"line\">     /usr/<span class=\"built_in\">local</span>/lib/node_modules \\</span><br><span class=\"line\">     /var/db/receipts/org.nodejs.*</span><br></pre></td></tr></table></figure>\n<ul>\n<li>ä¿®æ”¹æ–‡ä»¶æƒé™ chmod 777 uninstallNodejs.sh<br>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ</li>\n</ul>\n<h3 id=\"2-å®‰è£…nvm\"><a href=\"#2-å®‰è£…nvm\" class=\"headerlink\" title=\"2.å®‰è£…nvm\"></a>2.å®‰è£…<a href=\"https://github.com/creationix/nvm\" target=\"_blank\" rel=\"noopener\">nvm</a></h3><ul>\n<li><p>æ¨èä½¿ç”¨è¿™ç§æ–¹å¼</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æˆ–è€…</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å®‰è£…å®Œæˆï¼Œæµ‹è¯•nvm æ˜¯å¦å®‰è£…æˆåŠŸ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm --version</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<ul>\n<li>å¦‚æœæ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸï¼Œç›´æ¥ç•¥è¿‡ä¸‹é¢</li>\n</ul>\n<ul>\n<li><p>è¿™ç§å®‰è£…æ–¹å¼ä¼šè‡ªåŠ¨æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯æœ€å¥½å…ˆæ£€æŸ¥ä¸€ä¸‹ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æ­£ç¡®</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export NVM_DIR=&quot;$HOME/.nvm&quot;</span><br><span class=\"line\">[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm</span><br><span class=\"line\">[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>é‡æ–°åŠ è½½ç³»ç»Ÿç¯å¢ƒå˜é‡</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bash_profile</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h5 id=\"3-ä½¿ç”¨nvmç®¡ç†node\"><a href=\"#3-ä½¿ç”¨nvmç®¡ç†node\" class=\"headerlink\" title=\"3.ä½¿ç”¨nvmç®¡ç†node\"></a>3.ä½¿ç”¨nvmç®¡ç†node</h5><ul>\n<li><p>æŸ¥çœ‹è¿œç¨‹nodeç‰ˆæœ¬</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls-remote</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å®‰è£…è¿œç¨‹çº¿ä¸Šnodeï¼Œnvm install ç‰ˆæœ¬å·</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install 8.11.3</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æŸ¥çœ‹æœ¬åœ°å·²å®‰è£…ç‰ˆæœ¬ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯v8.10.0</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yaodeMacBook-Pro:/ yao$ nvm ls</span><br><span class=\"line\">-&gt;      v8.10.0</span><br><span class=\"line\">        v8.11.3</span><br><span class=\"line\">default -&gt; 8.11.3 (-&gt; v8.11.3)</span><br><span class=\"line\">node -&gt; stable (-&gt; v8.11.3) (default)</span><br><span class=\"line\">stable -&gt; 8.11 (-&gt; v8.11.3) (default)</span><br><span class=\"line\">iojs -&gt; N/A (default)</span><br><span class=\"line\">lts/* -&gt; lts/carbon (-&gt; v8.11.3)</span><br><span class=\"line\">lts/argon -&gt; v4.9.1 (-&gt; N/A)</span><br><span class=\"line\">lts/boron -&gt; v6.14.3 (-&gt; N/A)</span><br><span class=\"line\">lts/carbon -&gt; v8.11.3</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä½¿ç”¨ä¸€ä¸ªç‰ˆæœ¬</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use v8.11.3</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h5 id=\"4-ä½¿ç”¨\"><a href=\"#4-ä½¿ç”¨\" class=\"headerlink\" title=\"4.ä½¿ç”¨\"></a>4.ä½¿ç”¨</h5><ul>\n<li><p>ç›´æ¥å‘½ä»¤è¡Œäº¤äº’å¼</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yaodeMacBook-Pro:/ yao$ node</span><br><span class=\"line\">&gt; var a = 12</span><br><span class=\"line\">undefined</span><br><span class=\"line\">&gt; var b = 22</span><br><span class=\"line\">undefined</span><br><span class=\"line\">&gt; a+b</span><br><span class=\"line\">34</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä½¿ç”¨node xxx.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yaodeMacBook-Pro:node yao$ node serverhello.js </span><br><span class=\"line\">Server running at http://127.0.0.1:8888/</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å®‰è£…nodemon è‡ªåŠ¨ç›‘å¬jsæ”¹åŠ¨ï¼Œè‡ªåŠ¨é‡æ–°æ‰§è¡Œ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install nodemon</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h5 id=\"5-æ¨¡å—çš„ä½¿ç”¨\"><a href=\"#5-æ¨¡å—çš„ä½¿ç”¨\" class=\"headerlink\" title=\"5.æ¨¡å—çš„ä½¿ç”¨\"></a>5.æ¨¡å—çš„ä½¿ç”¨</h5><ul>\n<li>Node.jsçš„æ¨¡å—ç³»ç»Ÿé‡‡ç”¨CommonJSè§„èŒƒ<blockquote>\n<p>CommonJSæ ‡å‡†è§„å®š </p>\n<ul>\n<li>ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—</li>\n<li>æ¨¡å—å†…å°†éœ€è¦å¯¹å¤–æš´éœ²çš„å˜é‡æ”¾åˆ°exportså¯¹è±¡é‡Œï¼Œå¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œå‡½æ•°ï¼Œæ•°ç»„ç­‰ï¼Œæœªæ”¾åˆ°exportså¯¹è±¡é‡Œçš„éƒ½æ˜¯ç§æœ‰çš„ã€‚</li>\n<li>ä½¿ç”¨requireæ–¹æ³•åŠ è½½æ¨¡å—ï¼Œå³è¯»å–æ¨¡å—æ–‡ä»¶è·å¾—exportså¯¹è±¡</li>\n<li>é»˜è®¤æ¯ä¸ª.jsæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªmoduleï¼Œå¯ä»¥ä½¿ç”¨module.exportsæš´éœ²å¯¹å¤–çš„æ¨¡å—æ–¹æ³•</li>\n<li>ä½¿ç”¨requireå¼•å…¥æ¨¡å—æ—¶ï¼Œæ¨¡å—è·¯å¾„åé¢çš„jsæ–‡ä»¶å»ºè®®ä¸åŠ åç¼€ï¼ˆ.jsï¼‰<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//é»˜è®¤æ¯ä¸ªjsæ–‡ä»¶æ¨¡å—ä¸ºä¸€ä¸ªç©ºå¯¹è±¡</span></span><br><span class=\"line\">exports = <span class=\"built_in\">module</span>.exports = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å¯ä»¥ä½¿ç”¨,è¿™ç§æ–¹å¼ç»™æ‰©å±•æ·»åŠ å¯¹å¤–çš„å±æ€§</span></span><br><span class=\"line\">exports.xxx = xxx;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ç›´æ¥èµ‹å€¼å¯¹è±¡,æ›´æ¢åŸæœ‰çš„å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;<span class=\"attr\">xxx</span>:xxx&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ä¸è¦ä½¿ç”¨ï¼Œç›´æ¥æ”¹å˜è¯¥å¯¹è±¡åœ°å€ï¼Œä¼šå¯¼è‡´module.exportså¯¹è±¡ä¸ä¼šæœ‰ä»»ä½•æ”¹å˜ã€‚</span></span><br><span class=\"line\">exports = &#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<h5 id=\"6-å…¨å±€å˜é‡å’Œæ¨¡å—å±æ€§\"><a href=\"#6-å…¨å±€å˜é‡å’Œæ¨¡å—å±æ€§\" class=\"headerlink\" title=\"6.å…¨å±€å˜é‡å’Œæ¨¡å—å±æ€§\"></a>6.å…¨å±€å˜é‡å’Œæ¨¡å—å±æ€§</h5><h6 id=\"å…¨å±€å˜é‡\"><a href=\"#å…¨å±€å˜é‡\" class=\"headerlink\" title=\"å…¨å±€å˜é‡\"></a>å…¨å±€å˜é‡</h6><ul>\n<li>__dirname :å½“å‰æ¨¡å—æ‰€åœ¨ç›®å½•è·¯å¾„</li>\n<li>__filename : å½“å‰æ¨¡å—çš„æ–‡ä»¶åç§°</li>\n<li>console<h6 id=\"æ¨¡å—å±æ€§\"><a href=\"#æ¨¡å—å±æ€§\" class=\"headerlink\" title=\"æ¨¡å—å±æ€§\"></a>æ¨¡å—å±æ€§</h6></li>\n<li>module.id : æ¨¡å—çš„å”¯ä¸€æ ‡è¯†</li>\n<li>module.loaded : æ ‡è®°æ¨¡å—æ˜¯å¦åŠ è½½</li>\n<li>module.parent :  å¼•ç”¨æ¨¡å—çš„æ¨¡å—</li>\n</ul>\n<h6 id=\"æ¨¡å—åˆ†ç±»\"><a href=\"#æ¨¡å—åˆ†ç±»\" class=\"headerlink\" title=\"æ¨¡å—åˆ†ç±»\"></a>æ¨¡å—åˆ†ç±»</h6><ul>\n<li>æ ¸å¿ƒæ¨¡å—ï¼šnode.jså†…ç½®çš„æ¨¡å—</li>\n<li>æ–‡ä»¶æ¨¡å—ï¼šè‡ªå·±å†™çš„æ¨¡å—å’Œç¬¬ä¸‰æ–¹æä¾›çš„æ¨¡å—</li>\n</ul>\n"},{"title":"iOSè‡ªåŠ¨å¸ƒå±€ç®¡ç†UIScrollview,å¹¶è‡ªé€‚åº”è½¯é”®ç›˜å¼¹å‡º","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3820.jpg","date":"2019-05-19T14:58:01.000Z","subtitle":"iOSè‡ªåŠ¨å¸ƒå±€å¤„ç†é”®ç›˜å¼¹å‡ºåŠUIScrollview","_content":"### iOS è‡ªåŠ¨å¸ƒå±€ç®¡ç†scrollview\n\n- ä¸ªäººæ•´ç†ç¬”è®°ï¼ŒåŒ…å«å®Œç¾è½¯é”®ç›˜å¼¹å‡ºè§†å›¾\n\n\n\n\n\n```objective-c\n#define MAS_SHORTHAND\n#define MAS_SHORTHAND_GLOBALS\n#define RGBColor(r, g, b) [UIColor colorWithRed:(r)/255.0 green:(g)/255.0 blue:(b)/255.0 alpha:1]\n\n#define RGBAColor(r, g, b ,a) [UIColor colorWithRed:(r)/255.0 green:(g)/255.0 blue:(b)/255.0 alpha:a]\n\n#define RandColor RGBColor(arc4random_uniform(255), arc4random_uniform(255), arc4random_uniform(255))\n\n#import \"ViewController.h\"\n#import \"Masonry.h\"\n\n@interface ViewController ()<UITextFieldDelegate,UIScrollViewDelegate>\n\n@property(nonatomic,strong) UIScrollView *mainScroll;\n\n@property(nonatomic,strong) UITextField *textField;\n\n@property(nonatomic,strong) UIView *countView;\n\n//@property(nonatomic,assign) BOOL keyBoardlsVisible;\n\n@property(nonatomic,assign) CGFloat insetBottom;\n@end\n\n@implementation ViewController\n\n\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    //  ç»™ _keyBoardlsVisible èµ‹åˆå€¼\n    //    _keyBoardlsVisible = NO;\n    self.insetBottom = 0;\n    \n    self.mainScroll = [UIScrollView new];\n    [self.mainScroll setBackgroundColor:[UIColor whiteColor]];\n    self.mainScroll.delegate = self;\n    [self.view addSubview:self.mainScroll];\n    [self.mainScroll makeConstraints:^(MASConstraintMaker *make) {\n        make.edges.equalTo(self.view);\n    }];\n    \n    \n#pragma mark--åŒ…å«-ä¸ªViewçš„å¸ƒå±€æ–¹å¼\n    //    self.countView = [[UIView alloc] init];\n    //    self.countView.backgroundColor = [UIColor greenColor];\n    //    [self.mainScroll addSubview:self.countView];\n    //\n    //    [self.countView makeConstraints:^(MASConstraintMaker *make) {\n    //è¿™å¥å…¶å®æ˜¯æŒ‡å®šviewå¡«å……contentSize\n    //        make.edges.equalTo(self.mainScroll);\n    //ç¡®å®šå®½åº¦ç­‰äºæ»šåŠ¨æ¡å®½åº¦ï¼Œä¹Ÿæ˜¯ç¡®å®šcontentSizeå®½åº¦çš„å…³é”®\n    //        make.width.equalTo(self.mainScroll);\n    //    }];\n    //ç”±äºä¸Šé¢æ²¡æœ‰æŒ‡å®šcontentSizeé«˜åº¦ï¼Œæ­¤æ—¶æ— æ³•ç¡®å®šæ»šåŠ¨é«˜åº¦\n    //\n    //    UIImageView *imageView1 = [UIImageView new];\n    //    [imageView1 setBackgroundColor:RandColor];\n    //    [self.countView addSubview:imageView1];\n    //    [imageView1 makeConstraints:^(MASConstraintMaker *make) {\n    //        make.top.equalTo(self.countView).offset(20);\n    //        make.left.right.mas_equalTo(self.countView);\n    //        make.height.mas_equalTo(900);\n    //    }];\n    //\n    //    UIImageView *imageView2 = [UIImageView new];\n    //    [imageView2 setBackgroundColor:RandColor];\n    //    [self.countView addSubview:imageView2];\n    //    [imageView2 makeConstraints:^(MASConstraintMaker *make) {\n    //        make.top.equalTo(imageView1.bottom).offset(20);\n    //        make.left.right.mas_equalTo(self.countView);\n    //        make.height.mas_equalTo(900);\n    //    }];\n    //\n    //    //å½“è§†å›¾é«˜åº¦å¤§äºå±å¹•çš„æ—¶å€™scrollViewå°±å¯ä»¥æ»šåŠ¨ï¼Œè®¾ç½®å®½åº¦çš„æ–¹æ³•ç›¸åŒ\n    //    [self.countView updateConstraints:^(MASConstraintMaker *make) {\n    //        // è®¾ç½®å®¹å™¨è§†å›¾çš„åº•éƒ¨ä¸è¦æ˜¾ç¤ºçš„å­æ§ä»¶çš„åº•éƒ¨ç›¸åŒï¼Œä¸ç„¶scrollViewä¸èƒ½æ»šåŠ¨\n    //        make.bottom.equalTo(imageView2);\n    //    }];\n    \n#pragma mark--åŒ…å«å¤šä¸ªViewçš„å¸ƒå±€æ–¹å¼\n    for (int i=0; i<40; i++) {\n        UITextField *textF = [UITextField new];\n        textF.delegate = self;//è®¾ç½®ä»£ç†\n        textF.backgroundColor = RandColor;\n        [self.mainScroll addSubview:textF];\n        [textF makeConstraints:^(MASConstraintMaker *make) {\n            //ç¡®å®šå®½åº¦ç­‰äºæ»šåŠ¨æ¡å®½åº¦ï¼Œä¹Ÿæ˜¯ç¡®å®šcontentSizeå®½åº¦çš„å…³é”®\n            make.width.equalTo(self.mainScroll);\n            //å·¦è¾¹å¯¹é½\n            make.left.equalTo(self.mainScroll);\n            //yè½´è®¡ç®—\n            make.top.equalTo(self.mainScroll).offset(i*45);\n            //é«˜åº¦å†™æ­»\n            make.height.equalTo(40);\n        }];\n        if(i==39){\n            //åˆ°æœ€åä¸€ä¸ªViewæ—¶å€™æ›´æ–°scollerViewçš„contentSizeé«˜åº¦ä¹Ÿå°±æ˜¯åº•éƒ¨æœ€å¤šå»¶ä¼¸åˆ°å“ªé‡Œ\n            [self.mainScroll updateConstraints:^(MASConstraintMaker *make) {\n                make.bottom.equalTo(textF.bottom);\n            }];\n        }\n    }\n    \n    \n    \n    // æ³¨å†Œé”®ç›˜é€šçŸ¥\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillChangeFrameNotification:) name:UIKeyboardWillChangeFrameNotification object:nil];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHideNotification:) name:UIKeyboardWillHideNotification object:nil];\n}\n\n#pragma mark--ä»£ç†æ–¹æ³•é”®ç›˜å¼¹å‡º\n-(void)textFieldDidBeginEditing:(UITextField *)textField\n{   //å¾—åˆ°å½“å‰æ“ä½œçš„view\n    self.textField = textField;\n}\n\n#pragma mark--ä»£ç†æ–¹æ³•é”®ç›˜å…³é—­\n-(void)textFieldDidEndEditing:(UITextField *)textField\n{   //å¾—åˆ°å½“å‰æ“ä½œçš„view\n    self.textField = textField;\n}\n\n#pragma mark--é”®ç›˜å¼¹å‡º\n- (void)keyboardWillChangeFrameNotification:(NSNotification *)notification {\n    \n    // è·å–é”®ç›˜åŸºæœ¬ä¿¡æ¯ï¼ˆåŠ¨ç”»æ—¶é•¿ä¸é”®ç›˜é«˜åº¦ï¼‰\n    NSDictionary *userInfo = [notification userInfo];\n    CGRect rect = [userInfo[UIKeyboardFrameEndUserInfoKey] CGRectValue];\n    CGFloat keyboardHeight   = CGRectGetHeight(rect);\n    CGFloat keyboardDuration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n    //è·å¾—å½“å‰è¾“å…¥æ¡†çš„Yåæ ‡\n    CGFloat inputY = self.textField.frame.origin.y+self.textField.frame.size.height;\n    //æ»‘åŠ¨è·ç¦»\n    CGFloat offsetY = self.mainScroll.contentOffset.y;\n    //è¾“å…¥æ¡†è·ç¦»å±å¹•åº•éƒ¨\n    CGFloat inputJd = self.mainScroll.frame.size.height-(inputY-offsetY);\n    \n    NSLog(@\"é”®ç›˜é«˜åº¦==%f,è¾“å…¥æ¡†è·ç¦»åº•éƒ¨è·ç¦»==%f\",keyboardHeight,inputJd);\n    if(inputJd<keyboardHeight){\n        self.insetBottom = keyboardHeight-inputJd;\n        // æ›´æ–°æ»šåŠ¨æ¡\n        [UIView animateWithDuration:keyboardDuration animations:^{\n            [self.mainScroll setContentOffset:CGPointMake(0, offsetY+self.insetBottom) animated:YES];\n        }];\n    }\n}\n#pragma mark--é”®ç›˜éšè—\n- (void)keyboardWillHideNotification:(NSNotification *)notification {\n    \n    // è·å¾—é”®ç›˜åŠ¨ç”»æ—¶é•¿\n    NSDictionary *userInfo   = [notification userInfo];\n    CGFloat keyboardDuration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n    //æ»‘åŠ¨è·ç¦»\n    CGFloat offsetY = self.mainScroll.contentOffset.y;\n    // æ›´æ–°æ»šåŠ¨æ¡\n    [UIView animateWithDuration:keyboardDuration animations:^{\n        [self.mainScroll setContentOffset:CGPointMake(0, offsetY-self.insetBottom) animated:YES];\n    }];\n    self.insetBottom = 0;\n    \n}\n#pragma mark--è§¦æ‘¸äº‹ä»¶\n- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {\n    [super touchesBegan:touches withEvent:event];\n    [self.view endEditing:YES];\n}\n\n- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView{\n    [self.view endEditing:YES];\n}\n#pragma mark--ç§»é™¤é€šçŸ¥\n- (void)dealloc {\n    [[NSNotificationCenter defaultCenter] removeObserver:self];\n}\n\n@end\n\n\n```\n","source":"_posts/iOSè‡ªåŠ¨å¸ƒå±€ç®¡ç†UIScrollview-å¹¶è‡ªé€‚åº”è½¯é”®ç›˜å¼¹å‡º.md","raw":"---\ntitle: 'iOSè‡ªåŠ¨å¸ƒå±€ç®¡ç†UIScrollview,å¹¶è‡ªé€‚åº”è½¯é”®ç›˜å¼¹å‡º'\ncover: 'http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3820.jpg'\ndate: 2019-05-19 22:58:01\nsubtitle: iOSè‡ªåŠ¨å¸ƒå±€å¤„ç†é”®ç›˜å¼¹å‡ºåŠUIScrollview\ncategories:\n- iOS\ntags:\n- iOS\n- è‡ªåŠ¨å¸ƒå±€\n---\n### iOS è‡ªåŠ¨å¸ƒå±€ç®¡ç†scrollview\n\n- ä¸ªäººæ•´ç†ç¬”è®°ï¼ŒåŒ…å«å®Œç¾è½¯é”®ç›˜å¼¹å‡ºè§†å›¾\n\n\n\n\n\n```objective-c\n#define MAS_SHORTHAND\n#define MAS_SHORTHAND_GLOBALS\n#define RGBColor(r, g, b) [UIColor colorWithRed:(r)/255.0 green:(g)/255.0 blue:(b)/255.0 alpha:1]\n\n#define RGBAColor(r, g, b ,a) [UIColor colorWithRed:(r)/255.0 green:(g)/255.0 blue:(b)/255.0 alpha:a]\n\n#define RandColor RGBColor(arc4random_uniform(255), arc4random_uniform(255), arc4random_uniform(255))\n\n#import \"ViewController.h\"\n#import \"Masonry.h\"\n\n@interface ViewController ()<UITextFieldDelegate,UIScrollViewDelegate>\n\n@property(nonatomic,strong) UIScrollView *mainScroll;\n\n@property(nonatomic,strong) UITextField *textField;\n\n@property(nonatomic,strong) UIView *countView;\n\n//@property(nonatomic,assign) BOOL keyBoardlsVisible;\n\n@property(nonatomic,assign) CGFloat insetBottom;\n@end\n\n@implementation ViewController\n\n\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    //  ç»™ _keyBoardlsVisible èµ‹åˆå€¼\n    //    _keyBoardlsVisible = NO;\n    self.insetBottom = 0;\n    \n    self.mainScroll = [UIScrollView new];\n    [self.mainScroll setBackgroundColor:[UIColor whiteColor]];\n    self.mainScroll.delegate = self;\n    [self.view addSubview:self.mainScroll];\n    [self.mainScroll makeConstraints:^(MASConstraintMaker *make) {\n        make.edges.equalTo(self.view);\n    }];\n    \n    \n#pragma mark--åŒ…å«-ä¸ªViewçš„å¸ƒå±€æ–¹å¼\n    //    self.countView = [[UIView alloc] init];\n    //    self.countView.backgroundColor = [UIColor greenColor];\n    //    [self.mainScroll addSubview:self.countView];\n    //\n    //    [self.countView makeConstraints:^(MASConstraintMaker *make) {\n    //è¿™å¥å…¶å®æ˜¯æŒ‡å®šviewå¡«å……contentSize\n    //        make.edges.equalTo(self.mainScroll);\n    //ç¡®å®šå®½åº¦ç­‰äºæ»šåŠ¨æ¡å®½åº¦ï¼Œä¹Ÿæ˜¯ç¡®å®šcontentSizeå®½åº¦çš„å…³é”®\n    //        make.width.equalTo(self.mainScroll);\n    //    }];\n    //ç”±äºä¸Šé¢æ²¡æœ‰æŒ‡å®šcontentSizeé«˜åº¦ï¼Œæ­¤æ—¶æ— æ³•ç¡®å®šæ»šåŠ¨é«˜åº¦\n    //\n    //    UIImageView *imageView1 = [UIImageView new];\n    //    [imageView1 setBackgroundColor:RandColor];\n    //    [self.countView addSubview:imageView1];\n    //    [imageView1 makeConstraints:^(MASConstraintMaker *make) {\n    //        make.top.equalTo(self.countView).offset(20);\n    //        make.left.right.mas_equalTo(self.countView);\n    //        make.height.mas_equalTo(900);\n    //    }];\n    //\n    //    UIImageView *imageView2 = [UIImageView new];\n    //    [imageView2 setBackgroundColor:RandColor];\n    //    [self.countView addSubview:imageView2];\n    //    [imageView2 makeConstraints:^(MASConstraintMaker *make) {\n    //        make.top.equalTo(imageView1.bottom).offset(20);\n    //        make.left.right.mas_equalTo(self.countView);\n    //        make.height.mas_equalTo(900);\n    //    }];\n    //\n    //    //å½“è§†å›¾é«˜åº¦å¤§äºå±å¹•çš„æ—¶å€™scrollViewå°±å¯ä»¥æ»šåŠ¨ï¼Œè®¾ç½®å®½åº¦çš„æ–¹æ³•ç›¸åŒ\n    //    [self.countView updateConstraints:^(MASConstraintMaker *make) {\n    //        // è®¾ç½®å®¹å™¨è§†å›¾çš„åº•éƒ¨ä¸è¦æ˜¾ç¤ºçš„å­æ§ä»¶çš„åº•éƒ¨ç›¸åŒï¼Œä¸ç„¶scrollViewä¸èƒ½æ»šåŠ¨\n    //        make.bottom.equalTo(imageView2);\n    //    }];\n    \n#pragma mark--åŒ…å«å¤šä¸ªViewçš„å¸ƒå±€æ–¹å¼\n    for (int i=0; i<40; i++) {\n        UITextField *textF = [UITextField new];\n        textF.delegate = self;//è®¾ç½®ä»£ç†\n        textF.backgroundColor = RandColor;\n        [self.mainScroll addSubview:textF];\n        [textF makeConstraints:^(MASConstraintMaker *make) {\n            //ç¡®å®šå®½åº¦ç­‰äºæ»šåŠ¨æ¡å®½åº¦ï¼Œä¹Ÿæ˜¯ç¡®å®šcontentSizeå®½åº¦çš„å…³é”®\n            make.width.equalTo(self.mainScroll);\n            //å·¦è¾¹å¯¹é½\n            make.left.equalTo(self.mainScroll);\n            //yè½´è®¡ç®—\n            make.top.equalTo(self.mainScroll).offset(i*45);\n            //é«˜åº¦å†™æ­»\n            make.height.equalTo(40);\n        }];\n        if(i==39){\n            //åˆ°æœ€åä¸€ä¸ªViewæ—¶å€™æ›´æ–°scollerViewçš„contentSizeé«˜åº¦ä¹Ÿå°±æ˜¯åº•éƒ¨æœ€å¤šå»¶ä¼¸åˆ°å“ªé‡Œ\n            [self.mainScroll updateConstraints:^(MASConstraintMaker *make) {\n                make.bottom.equalTo(textF.bottom);\n            }];\n        }\n    }\n    \n    \n    \n    // æ³¨å†Œé”®ç›˜é€šçŸ¥\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillChangeFrameNotification:) name:UIKeyboardWillChangeFrameNotification object:nil];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHideNotification:) name:UIKeyboardWillHideNotification object:nil];\n}\n\n#pragma mark--ä»£ç†æ–¹æ³•é”®ç›˜å¼¹å‡º\n-(void)textFieldDidBeginEditing:(UITextField *)textField\n{   //å¾—åˆ°å½“å‰æ“ä½œçš„view\n    self.textField = textField;\n}\n\n#pragma mark--ä»£ç†æ–¹æ³•é”®ç›˜å…³é—­\n-(void)textFieldDidEndEditing:(UITextField *)textField\n{   //å¾—åˆ°å½“å‰æ“ä½œçš„view\n    self.textField = textField;\n}\n\n#pragma mark--é”®ç›˜å¼¹å‡º\n- (void)keyboardWillChangeFrameNotification:(NSNotification *)notification {\n    \n    // è·å–é”®ç›˜åŸºæœ¬ä¿¡æ¯ï¼ˆåŠ¨ç”»æ—¶é•¿ä¸é”®ç›˜é«˜åº¦ï¼‰\n    NSDictionary *userInfo = [notification userInfo];\n    CGRect rect = [userInfo[UIKeyboardFrameEndUserInfoKey] CGRectValue];\n    CGFloat keyboardHeight   = CGRectGetHeight(rect);\n    CGFloat keyboardDuration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n    //è·å¾—å½“å‰è¾“å…¥æ¡†çš„Yåæ ‡\n    CGFloat inputY = self.textField.frame.origin.y+self.textField.frame.size.height;\n    //æ»‘åŠ¨è·ç¦»\n    CGFloat offsetY = self.mainScroll.contentOffset.y;\n    //è¾“å…¥æ¡†è·ç¦»å±å¹•åº•éƒ¨\n    CGFloat inputJd = self.mainScroll.frame.size.height-(inputY-offsetY);\n    \n    NSLog(@\"é”®ç›˜é«˜åº¦==%f,è¾“å…¥æ¡†è·ç¦»åº•éƒ¨è·ç¦»==%f\",keyboardHeight,inputJd);\n    if(inputJd<keyboardHeight){\n        self.insetBottom = keyboardHeight-inputJd;\n        // æ›´æ–°æ»šåŠ¨æ¡\n        [UIView animateWithDuration:keyboardDuration animations:^{\n            [self.mainScroll setContentOffset:CGPointMake(0, offsetY+self.insetBottom) animated:YES];\n        }];\n    }\n}\n#pragma mark--é”®ç›˜éšè—\n- (void)keyboardWillHideNotification:(NSNotification *)notification {\n    \n    // è·å¾—é”®ç›˜åŠ¨ç”»æ—¶é•¿\n    NSDictionary *userInfo   = [notification userInfo];\n    CGFloat keyboardDuration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n    //æ»‘åŠ¨è·ç¦»\n    CGFloat offsetY = self.mainScroll.contentOffset.y;\n    // æ›´æ–°æ»šåŠ¨æ¡\n    [UIView animateWithDuration:keyboardDuration animations:^{\n        [self.mainScroll setContentOffset:CGPointMake(0, offsetY-self.insetBottom) animated:YES];\n    }];\n    self.insetBottom = 0;\n    \n}\n#pragma mark--è§¦æ‘¸äº‹ä»¶\n- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {\n    [super touchesBegan:touches withEvent:event];\n    [self.view endEditing:YES];\n}\n\n- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView{\n    [self.view endEditing:YES];\n}\n#pragma mark--ç§»é™¤é€šçŸ¥\n- (void)dealloc {\n    [[NSNotificationCenter defaultCenter] removeObserver:self];\n}\n\n@end\n\n\n```\n","slug":"iOSè‡ªåŠ¨å¸ƒå±€ç®¡ç†UIScrollview-å¹¶è‡ªé€‚åº”è½¯é”®ç›˜å¼¹å‡º","published":1,"updated":"2019-05-19T15:00:10.721Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjvv41zh00006cvof5rb6gnm2","content":"<h3 id=\"iOS-è‡ªåŠ¨å¸ƒå±€ç®¡ç†scrollview\"><a href=\"#iOS-è‡ªåŠ¨å¸ƒå±€ç®¡ç†scrollview\" class=\"headerlink\" title=\"iOS è‡ªåŠ¨å¸ƒå±€ç®¡ç†scrollview\"></a>iOS è‡ªåŠ¨å¸ƒå±€ç®¡ç†scrollview</h3><ul>\n<li>ä¸ªäººæ•´ç†ç¬”è®°ï¼ŒåŒ…å«å®Œç¾è½¯é”®ç›˜å¼¹å‡ºè§†å›¾</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#define MAS_SHORTHAND</span><br><span class=\"line\">#define MAS_SHORTHAND_GLOBALS</span><br><span class=\"line\">#define RGBColor(r, g, b) [UIColor colorWithRed:(r)/255.0 green:(g)/255.0 blue:(b)/255.0 alpha:1]</span><br><span class=\"line\"></span><br><span class=\"line\">#define RGBAColor(r, g, b ,a) [UIColor colorWithRed:(r)/255.0 green:(g)/255.0 blue:(b)/255.0 alpha:a]</span><br><span class=\"line\"></span><br><span class=\"line\">#define RandColor RGBColor(arc4random_uniform(255), arc4random_uniform(255), arc4random_uniform(255))</span><br><span class=\"line\"></span><br><span class=\"line\">#import &quot;ViewController.h&quot;</span><br><span class=\"line\">#import &quot;Masonry.h&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">@interface ViewController ()&lt;UITextFieldDelegate,UIScrollViewDelegate&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">@property(nonatomic,strong) UIScrollView *mainScroll;</span><br><span class=\"line\"></span><br><span class=\"line\">@property(nonatomic,strong) UITextField *textField;</span><br><span class=\"line\"></span><br><span class=\"line\">@property(nonatomic,strong) UIView *countView;</span><br><span class=\"line\"></span><br><span class=\"line\">//@property(nonatomic,assign) BOOL keyBoardlsVisible;</span><br><span class=\"line\"></span><br><span class=\"line\">@property(nonatomic,assign) CGFloat insetBottom;</span><br><span class=\"line\">@end</span><br><span class=\"line\"></span><br><span class=\"line\">@implementation ViewController</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">- (void)viewDidLoad &#123;</span><br><span class=\"line\">    [super viewDidLoad];</span><br><span class=\"line\">    //  ç»™ _keyBoardlsVisible èµ‹åˆå€¼</span><br><span class=\"line\">    //    _keyBoardlsVisible = NO;</span><br><span class=\"line\">    self.insetBottom = 0;</span><br><span class=\"line\">    </span><br><span class=\"line\">    self.mainScroll = [UIScrollView new];</span><br><span class=\"line\">    [self.mainScroll setBackgroundColor:[UIColor whiteColor]];</span><br><span class=\"line\">    self.mainScroll.delegate = self;</span><br><span class=\"line\">    [self.view addSubview:self.mainScroll];</span><br><span class=\"line\">    [self.mainScroll makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">        make.edges.equalTo(self.view);</span><br><span class=\"line\">    &#125;];</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">#pragma mark--åŒ…å«-ä¸ªViewçš„å¸ƒå±€æ–¹å¼</span><br><span class=\"line\">    //    self.countView = [[UIView alloc] init];</span><br><span class=\"line\">    //    self.countView.backgroundColor = [UIColor greenColor];</span><br><span class=\"line\">    //    [self.mainScroll addSubview:self.countView];</span><br><span class=\"line\">    //</span><br><span class=\"line\">    //    [self.countView makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">    //è¿™å¥å…¶å®æ˜¯æŒ‡å®šviewå¡«å……contentSize</span><br><span class=\"line\">    //        make.edges.equalTo(self.mainScroll);</span><br><span class=\"line\">    //ç¡®å®šå®½åº¦ç­‰äºæ»šåŠ¨æ¡å®½åº¦ï¼Œä¹Ÿæ˜¯ç¡®å®šcontentSizeå®½åº¦çš„å…³é”®</span><br><span class=\"line\">    //        make.width.equalTo(self.mainScroll);</span><br><span class=\"line\">    //    &#125;];</span><br><span class=\"line\">    //ç”±äºä¸Šé¢æ²¡æœ‰æŒ‡å®šcontentSizeé«˜åº¦ï¼Œæ­¤æ—¶æ— æ³•ç¡®å®šæ»šåŠ¨é«˜åº¦</span><br><span class=\"line\">    //</span><br><span class=\"line\">    //    UIImageView *imageView1 = [UIImageView new];</span><br><span class=\"line\">    //    [imageView1 setBackgroundColor:RandColor];</span><br><span class=\"line\">    //    [self.countView addSubview:imageView1];</span><br><span class=\"line\">    //    [imageView1 makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">    //        make.top.equalTo(self.countView).offset(20);</span><br><span class=\"line\">    //        make.left.right.mas_equalTo(self.countView);</span><br><span class=\"line\">    //        make.height.mas_equalTo(900);</span><br><span class=\"line\">    //    &#125;];</span><br><span class=\"line\">    //</span><br><span class=\"line\">    //    UIImageView *imageView2 = [UIImageView new];</span><br><span class=\"line\">    //    [imageView2 setBackgroundColor:RandColor];</span><br><span class=\"line\">    //    [self.countView addSubview:imageView2];</span><br><span class=\"line\">    //    [imageView2 makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">    //        make.top.equalTo(imageView1.bottom).offset(20);</span><br><span class=\"line\">    //        make.left.right.mas_equalTo(self.countView);</span><br><span class=\"line\">    //        make.height.mas_equalTo(900);</span><br><span class=\"line\">    //    &#125;];</span><br><span class=\"line\">    //</span><br><span class=\"line\">    //    //å½“è§†å›¾é«˜åº¦å¤§äºå±å¹•çš„æ—¶å€™scrollViewå°±å¯ä»¥æ»šåŠ¨ï¼Œè®¾ç½®å®½åº¦çš„æ–¹æ³•ç›¸åŒ</span><br><span class=\"line\">    //    [self.countView updateConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">    //        // è®¾ç½®å®¹å™¨è§†å›¾çš„åº•éƒ¨ä¸è¦æ˜¾ç¤ºçš„å­æ§ä»¶çš„åº•éƒ¨ç›¸åŒï¼Œä¸ç„¶scrollViewä¸èƒ½æ»šåŠ¨</span><br><span class=\"line\">    //        make.bottom.equalTo(imageView2);</span><br><span class=\"line\">    //    &#125;];</span><br><span class=\"line\">    </span><br><span class=\"line\">#pragma mark--åŒ…å«å¤šä¸ªViewçš„å¸ƒå±€æ–¹å¼</span><br><span class=\"line\">    for (int i=0; i&lt;40; i++) &#123;</span><br><span class=\"line\">        UITextField *textF = [UITextField new];</span><br><span class=\"line\">        textF.delegate = self;//è®¾ç½®ä»£ç†</span><br><span class=\"line\">        textF.backgroundColor = RandColor;</span><br><span class=\"line\">        [self.mainScroll addSubview:textF];</span><br><span class=\"line\">        [textF makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">            //ç¡®å®šå®½åº¦ç­‰äºæ»šåŠ¨æ¡å®½åº¦ï¼Œä¹Ÿæ˜¯ç¡®å®šcontentSizeå®½åº¦çš„å…³é”®</span><br><span class=\"line\">            make.width.equalTo(self.mainScroll);</span><br><span class=\"line\">            //å·¦è¾¹å¯¹é½</span><br><span class=\"line\">            make.left.equalTo(self.mainScroll);</span><br><span class=\"line\">            //yè½´è®¡ç®—</span><br><span class=\"line\">            make.top.equalTo(self.mainScroll).offset(i*45);</span><br><span class=\"line\">            //é«˜åº¦å†™æ­»</span><br><span class=\"line\">            make.height.equalTo(40);</span><br><span class=\"line\">        &#125;];</span><br><span class=\"line\">        if(i==39)&#123;</span><br><span class=\"line\">            //åˆ°æœ€åä¸€ä¸ªViewæ—¶å€™æ›´æ–°scollerViewçš„contentSizeé«˜åº¦ä¹Ÿå°±æ˜¯åº•éƒ¨æœ€å¤šå»¶ä¼¸åˆ°å“ªé‡Œ</span><br><span class=\"line\">            [self.mainScroll updateConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">                make.bottom.equalTo(textF.bottom);</span><br><span class=\"line\">            &#125;];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    // æ³¨å†Œé”®ç›˜é€šçŸ¥</span><br><span class=\"line\">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillChangeFrameNotification:) name:UIKeyboardWillChangeFrameNotification object:nil];</span><br><span class=\"line\">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHideNotification:) name:UIKeyboardWillHideNotification object:nil];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#pragma mark--ä»£ç†æ–¹æ³•é”®ç›˜å¼¹å‡º</span><br><span class=\"line\">-(void)textFieldDidBeginEditing:(UITextField *)textField</span><br><span class=\"line\">&#123;   //å¾—åˆ°å½“å‰æ“ä½œçš„view</span><br><span class=\"line\">    self.textField = textField;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#pragma mark--ä»£ç†æ–¹æ³•é”®ç›˜å…³é—­</span><br><span class=\"line\">-(void)textFieldDidEndEditing:(UITextField *)textField</span><br><span class=\"line\">&#123;   //å¾—åˆ°å½“å‰æ“ä½œçš„view</span><br><span class=\"line\">    self.textField = textField;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#pragma mark--é”®ç›˜å¼¹å‡º</span><br><span class=\"line\">- (void)keyboardWillChangeFrameNotification:(NSNotification *)notification &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    // è·å–é”®ç›˜åŸºæœ¬ä¿¡æ¯ï¼ˆåŠ¨ç”»æ—¶é•¿ä¸é”®ç›˜é«˜åº¦ï¼‰</span><br><span class=\"line\">    NSDictionary *userInfo = [notification userInfo];</span><br><span class=\"line\">    CGRect rect = [userInfo[UIKeyboardFrameEndUserInfoKey] CGRectValue];</span><br><span class=\"line\">    CGFloat keyboardHeight   = CGRectGetHeight(rect);</span><br><span class=\"line\">    CGFloat keyboardDuration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];</span><br><span class=\"line\">    //è·å¾—å½“å‰è¾“å…¥æ¡†çš„Yåæ ‡</span><br><span class=\"line\">    CGFloat inputY = self.textField.frame.origin.y+self.textField.frame.size.height;</span><br><span class=\"line\">    //æ»‘åŠ¨è·ç¦»</span><br><span class=\"line\">    CGFloat offsetY = self.mainScroll.contentOffset.y;</span><br><span class=\"line\">    //è¾“å…¥æ¡†è·ç¦»å±å¹•åº•éƒ¨</span><br><span class=\"line\">    CGFloat inputJd = self.mainScroll.frame.size.height-(inputY-offsetY);</span><br><span class=\"line\">    </span><br><span class=\"line\">    NSLog(@&quot;é”®ç›˜é«˜åº¦==%f,è¾“å…¥æ¡†è·ç¦»åº•éƒ¨è·ç¦»==%f&quot;,keyboardHeight,inputJd);</span><br><span class=\"line\">    if(inputJd&lt;keyboardHeight)&#123;</span><br><span class=\"line\">        self.insetBottom = keyboardHeight-inputJd;</span><br><span class=\"line\">        // æ›´æ–°æ»šåŠ¨æ¡</span><br><span class=\"line\">        [UIView animateWithDuration:keyboardDuration animations:^&#123;</span><br><span class=\"line\">            [self.mainScroll setContentOffset:CGPointMake(0, offsetY+self.insetBottom) animated:YES];</span><br><span class=\"line\">        &#125;];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">#pragma mark--é”®ç›˜éšè—</span><br><span class=\"line\">- (void)keyboardWillHideNotification:(NSNotification *)notification &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    // è·å¾—é”®ç›˜åŠ¨ç”»æ—¶é•¿</span><br><span class=\"line\">    NSDictionary *userInfo   = [notification userInfo];</span><br><span class=\"line\">    CGFloat keyboardDuration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];</span><br><span class=\"line\">    //æ»‘åŠ¨è·ç¦»</span><br><span class=\"line\">    CGFloat offsetY = self.mainScroll.contentOffset.y;</span><br><span class=\"line\">    // æ›´æ–°æ»šåŠ¨æ¡</span><br><span class=\"line\">    [UIView animateWithDuration:keyboardDuration animations:^&#123;</span><br><span class=\"line\">        [self.mainScroll setContentOffset:CGPointMake(0, offsetY-self.insetBottom) animated:YES];</span><br><span class=\"line\">    &#125;];</span><br><span class=\"line\">    self.insetBottom = 0;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">#pragma mark--è§¦æ‘¸äº‹ä»¶</span><br><span class=\"line\">- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event &#123;</span><br><span class=\"line\">    [super touchesBegan:touches withEvent:event];</span><br><span class=\"line\">    [self.view endEditing:YES];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView&#123;</span><br><span class=\"line\">    [self.view endEditing:YES];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">#pragma mark--ç§»é™¤é€šçŸ¥</span><br><span class=\"line\">- (void)dealloc &#123;</span><br><span class=\"line\">    [[NSNotificationCenter defaultCenter] removeObserver:self];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@end</span><br></pre></td></tr></table></figure>\n","site":{"data":{"links":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}},"excerpt":"","more":"<h3 id=\"iOS-è‡ªåŠ¨å¸ƒå±€ç®¡ç†scrollview\"><a href=\"#iOS-è‡ªåŠ¨å¸ƒå±€ç®¡ç†scrollview\" class=\"headerlink\" title=\"iOS è‡ªåŠ¨å¸ƒå±€ç®¡ç†scrollview\"></a>iOS è‡ªåŠ¨å¸ƒå±€ç®¡ç†scrollview</h3><ul>\n<li>ä¸ªäººæ•´ç†ç¬”è®°ï¼ŒåŒ…å«å®Œç¾è½¯é”®ç›˜å¼¹å‡ºè§†å›¾</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#define MAS_SHORTHAND</span><br><span class=\"line\">#define MAS_SHORTHAND_GLOBALS</span><br><span class=\"line\">#define RGBColor(r, g, b) [UIColor colorWithRed:(r)/255.0 green:(g)/255.0 blue:(b)/255.0 alpha:1]</span><br><span class=\"line\"></span><br><span class=\"line\">#define RGBAColor(r, g, b ,a) [UIColor colorWithRed:(r)/255.0 green:(g)/255.0 blue:(b)/255.0 alpha:a]</span><br><span class=\"line\"></span><br><span class=\"line\">#define RandColor RGBColor(arc4random_uniform(255), arc4random_uniform(255), arc4random_uniform(255))</span><br><span class=\"line\"></span><br><span class=\"line\">#import &quot;ViewController.h&quot;</span><br><span class=\"line\">#import &quot;Masonry.h&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">@interface ViewController ()&lt;UITextFieldDelegate,UIScrollViewDelegate&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">@property(nonatomic,strong) UIScrollView *mainScroll;</span><br><span class=\"line\"></span><br><span class=\"line\">@property(nonatomic,strong) UITextField *textField;</span><br><span class=\"line\"></span><br><span class=\"line\">@property(nonatomic,strong) UIView *countView;</span><br><span class=\"line\"></span><br><span class=\"line\">//@property(nonatomic,assign) BOOL keyBoardlsVisible;</span><br><span class=\"line\"></span><br><span class=\"line\">@property(nonatomic,assign) CGFloat insetBottom;</span><br><span class=\"line\">@end</span><br><span class=\"line\"></span><br><span class=\"line\">@implementation ViewController</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">- (void)viewDidLoad &#123;</span><br><span class=\"line\">    [super viewDidLoad];</span><br><span class=\"line\">    //  ç»™ _keyBoardlsVisible èµ‹åˆå€¼</span><br><span class=\"line\">    //    _keyBoardlsVisible = NO;</span><br><span class=\"line\">    self.insetBottom = 0;</span><br><span class=\"line\">    </span><br><span class=\"line\">    self.mainScroll = [UIScrollView new];</span><br><span class=\"line\">    [self.mainScroll setBackgroundColor:[UIColor whiteColor]];</span><br><span class=\"line\">    self.mainScroll.delegate = self;</span><br><span class=\"line\">    [self.view addSubview:self.mainScroll];</span><br><span class=\"line\">    [self.mainScroll makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">        make.edges.equalTo(self.view);</span><br><span class=\"line\">    &#125;];</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">#pragma mark--åŒ…å«-ä¸ªViewçš„å¸ƒå±€æ–¹å¼</span><br><span class=\"line\">    //    self.countView = [[UIView alloc] init];</span><br><span class=\"line\">    //    self.countView.backgroundColor = [UIColor greenColor];</span><br><span class=\"line\">    //    [self.mainScroll addSubview:self.countView];</span><br><span class=\"line\">    //</span><br><span class=\"line\">    //    [self.countView makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">    //è¿™å¥å…¶å®æ˜¯æŒ‡å®šviewå¡«å……contentSize</span><br><span class=\"line\">    //        make.edges.equalTo(self.mainScroll);</span><br><span class=\"line\">    //ç¡®å®šå®½åº¦ç­‰äºæ»šåŠ¨æ¡å®½åº¦ï¼Œä¹Ÿæ˜¯ç¡®å®šcontentSizeå®½åº¦çš„å…³é”®</span><br><span class=\"line\">    //        make.width.equalTo(self.mainScroll);</span><br><span class=\"line\">    //    &#125;];</span><br><span class=\"line\">    //ç”±äºä¸Šé¢æ²¡æœ‰æŒ‡å®šcontentSizeé«˜åº¦ï¼Œæ­¤æ—¶æ— æ³•ç¡®å®šæ»šåŠ¨é«˜åº¦</span><br><span class=\"line\">    //</span><br><span class=\"line\">    //    UIImageView *imageView1 = [UIImageView new];</span><br><span class=\"line\">    //    [imageView1 setBackgroundColor:RandColor];</span><br><span class=\"line\">    //    [self.countView addSubview:imageView1];</span><br><span class=\"line\">    //    [imageView1 makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">    //        make.top.equalTo(self.countView).offset(20);</span><br><span class=\"line\">    //        make.left.right.mas_equalTo(self.countView);</span><br><span class=\"line\">    //        make.height.mas_equalTo(900);</span><br><span class=\"line\">    //    &#125;];</span><br><span class=\"line\">    //</span><br><span class=\"line\">    //    UIImageView *imageView2 = [UIImageView new];</span><br><span class=\"line\">    //    [imageView2 setBackgroundColor:RandColor];</span><br><span class=\"line\">    //    [self.countView addSubview:imageView2];</span><br><span class=\"line\">    //    [imageView2 makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">    //        make.top.equalTo(imageView1.bottom).offset(20);</span><br><span class=\"line\">    //        make.left.right.mas_equalTo(self.countView);</span><br><span class=\"line\">    //        make.height.mas_equalTo(900);</span><br><span class=\"line\">    //    &#125;];</span><br><span class=\"line\">    //</span><br><span class=\"line\">    //    //å½“è§†å›¾é«˜åº¦å¤§äºå±å¹•çš„æ—¶å€™scrollViewå°±å¯ä»¥æ»šåŠ¨ï¼Œè®¾ç½®å®½åº¦çš„æ–¹æ³•ç›¸åŒ</span><br><span class=\"line\">    //    [self.countView updateConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">    //        // è®¾ç½®å®¹å™¨è§†å›¾çš„åº•éƒ¨ä¸è¦æ˜¾ç¤ºçš„å­æ§ä»¶çš„åº•éƒ¨ç›¸åŒï¼Œä¸ç„¶scrollViewä¸èƒ½æ»šåŠ¨</span><br><span class=\"line\">    //        make.bottom.equalTo(imageView2);</span><br><span class=\"line\">    //    &#125;];</span><br><span class=\"line\">    </span><br><span class=\"line\">#pragma mark--åŒ…å«å¤šä¸ªViewçš„å¸ƒå±€æ–¹å¼</span><br><span class=\"line\">    for (int i=0; i&lt;40; i++) &#123;</span><br><span class=\"line\">        UITextField *textF = [UITextField new];</span><br><span class=\"line\">        textF.delegate = self;//è®¾ç½®ä»£ç†</span><br><span class=\"line\">        textF.backgroundColor = RandColor;</span><br><span class=\"line\">        [self.mainScroll addSubview:textF];</span><br><span class=\"line\">        [textF makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">            //ç¡®å®šå®½åº¦ç­‰äºæ»šåŠ¨æ¡å®½åº¦ï¼Œä¹Ÿæ˜¯ç¡®å®šcontentSizeå®½åº¦çš„å…³é”®</span><br><span class=\"line\">            make.width.equalTo(self.mainScroll);</span><br><span class=\"line\">            //å·¦è¾¹å¯¹é½</span><br><span class=\"line\">            make.left.equalTo(self.mainScroll);</span><br><span class=\"line\">            //yè½´è®¡ç®—</span><br><span class=\"line\">            make.top.equalTo(self.mainScroll).offset(i*45);</span><br><span class=\"line\">            //é«˜åº¦å†™æ­»</span><br><span class=\"line\">            make.height.equalTo(40);</span><br><span class=\"line\">        &#125;];</span><br><span class=\"line\">        if(i==39)&#123;</span><br><span class=\"line\">            //åˆ°æœ€åä¸€ä¸ªViewæ—¶å€™æ›´æ–°scollerViewçš„contentSizeé«˜åº¦ä¹Ÿå°±æ˜¯åº•éƒ¨æœ€å¤šå»¶ä¼¸åˆ°å“ªé‡Œ</span><br><span class=\"line\">            [self.mainScroll updateConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class=\"line\">                make.bottom.equalTo(textF.bottom);</span><br><span class=\"line\">            &#125;];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    // æ³¨å†Œé”®ç›˜é€šçŸ¥</span><br><span class=\"line\">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillChangeFrameNotification:) name:UIKeyboardWillChangeFrameNotification object:nil];</span><br><span class=\"line\">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHideNotification:) name:UIKeyboardWillHideNotification object:nil];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#pragma mark--ä»£ç†æ–¹æ³•é”®ç›˜å¼¹å‡º</span><br><span class=\"line\">-(void)textFieldDidBeginEditing:(UITextField *)textField</span><br><span class=\"line\">&#123;   //å¾—åˆ°å½“å‰æ“ä½œçš„view</span><br><span class=\"line\">    self.textField = textField;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#pragma mark--ä»£ç†æ–¹æ³•é”®ç›˜å…³é—­</span><br><span class=\"line\">-(void)textFieldDidEndEditing:(UITextField *)textField</span><br><span class=\"line\">&#123;   //å¾—åˆ°å½“å‰æ“ä½œçš„view</span><br><span class=\"line\">    self.textField = textField;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#pragma mark--é”®ç›˜å¼¹å‡º</span><br><span class=\"line\">- (void)keyboardWillChangeFrameNotification:(NSNotification *)notification &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    // è·å–é”®ç›˜åŸºæœ¬ä¿¡æ¯ï¼ˆåŠ¨ç”»æ—¶é•¿ä¸é”®ç›˜é«˜åº¦ï¼‰</span><br><span class=\"line\">    NSDictionary *userInfo = [notification userInfo];</span><br><span class=\"line\">    CGRect rect = [userInfo[UIKeyboardFrameEndUserInfoKey] CGRectValue];</span><br><span class=\"line\">    CGFloat keyboardHeight   = CGRectGetHeight(rect);</span><br><span class=\"line\">    CGFloat keyboardDuration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];</span><br><span class=\"line\">    //è·å¾—å½“å‰è¾“å…¥æ¡†çš„Yåæ ‡</span><br><span class=\"line\">    CGFloat inputY = self.textField.frame.origin.y+self.textField.frame.size.height;</span><br><span class=\"line\">    //æ»‘åŠ¨è·ç¦»</span><br><span class=\"line\">    CGFloat offsetY = self.mainScroll.contentOffset.y;</span><br><span class=\"line\">    //è¾“å…¥æ¡†è·ç¦»å±å¹•åº•éƒ¨</span><br><span class=\"line\">    CGFloat inputJd = self.mainScroll.frame.size.height-(inputY-offsetY);</span><br><span class=\"line\">    </span><br><span class=\"line\">    NSLog(@&quot;é”®ç›˜é«˜åº¦==%f,è¾“å…¥æ¡†è·ç¦»åº•éƒ¨è·ç¦»==%f&quot;,keyboardHeight,inputJd);</span><br><span class=\"line\">    if(inputJd&lt;keyboardHeight)&#123;</span><br><span class=\"line\">        self.insetBottom = keyboardHeight-inputJd;</span><br><span class=\"line\">        // æ›´æ–°æ»šåŠ¨æ¡</span><br><span class=\"line\">        [UIView animateWithDuration:keyboardDuration animations:^&#123;</span><br><span class=\"line\">            [self.mainScroll setContentOffset:CGPointMake(0, offsetY+self.insetBottom) animated:YES];</span><br><span class=\"line\">        &#125;];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">#pragma mark--é”®ç›˜éšè—</span><br><span class=\"line\">- (void)keyboardWillHideNotification:(NSNotification *)notification &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    // è·å¾—é”®ç›˜åŠ¨ç”»æ—¶é•¿</span><br><span class=\"line\">    NSDictionary *userInfo   = [notification userInfo];</span><br><span class=\"line\">    CGFloat keyboardDuration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];</span><br><span class=\"line\">    //æ»‘åŠ¨è·ç¦»</span><br><span class=\"line\">    CGFloat offsetY = self.mainScroll.contentOffset.y;</span><br><span class=\"line\">    // æ›´æ–°æ»šåŠ¨æ¡</span><br><span class=\"line\">    [UIView animateWithDuration:keyboardDuration animations:^&#123;</span><br><span class=\"line\">        [self.mainScroll setContentOffset:CGPointMake(0, offsetY-self.insetBottom) animated:YES];</span><br><span class=\"line\">    &#125;];</span><br><span class=\"line\">    self.insetBottom = 0;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">#pragma mark--è§¦æ‘¸äº‹ä»¶</span><br><span class=\"line\">- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event &#123;</span><br><span class=\"line\">    [super touchesBegan:touches withEvent:event];</span><br><span class=\"line\">    [self.view endEditing:YES];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView&#123;</span><br><span class=\"line\">    [self.view endEditing:YES];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">#pragma mark--ç§»é™¤é€šçŸ¥</span><br><span class=\"line\">- (void)dealloc &#123;</span><br><span class=\"line\">    [[NSNotificationCenter defaultCenter] removeObserver:self];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@end</span><br></pre></td></tr></table></figure>\n"},{"title":"macç”µè„‘å¼€å¯æ–‡ä»¶å…±äº«æœåŠ¡","date":"2019-05-19T14:38:10.000Z","subtitle":"MacOS å¿«é€Ÿåˆ†äº«æœ¬åœ°æ–‡ä»¶åˆ°å±€åŸŸç½‘","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3235.jpg","_content":"ä½¿ç”¨macè‡ªå¸¦çš„Python 2.7å‘½ä»¤å¿«é€Ÿå…±äº«æœ¬åœ°æ–‡ä»¶.æ“ä½œæ­¥éª¤\n- 1.æ‰“å¼€ç”µè„‘ç»ˆç«¯\n  ![å±å¹•å¿«ç…§ 2019-03-21 ä¸Šåˆ11.45.20.png](http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-6460fb75db8ad0d6.png)\n\n- 2.è¿›å…¥ä½ æƒ³å…±äº«çš„æ–‡ä»¶å¤¹ç›®å½•\n![å±å¹•å¿«ç…§ 2019-03-21 ä¸Šåˆ11.47.52.png](http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-785157544aa83b4f.png)\n```\n è¾“å…¥ cd /Users/ç”¨æˆ·/Desktop/ è¿›å…¥æ¡Œé¢æ–‡ä»¶å¤¹ï¼Œå…±äº«æ¡Œé¢æ–‡ä»¶ \n```\n\n- 3.è¾“å…¥å‘½ä»¤\n```\npython -m SimpleHTTPServer\n```\n![å±å¹•å¿«ç…§ 2019-03-21 ä¸‹åˆ12.30.27.png](http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-eb5707509e383e29.png)\n> è¡¨ç¤ºåœ¨æœ¬æœºçš„8000ç«¯å£å·å¼€å¯æœåŠ¡\n\n- 4.åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ä»»æ„æµè§ˆå™¨è¾“å…¥ip+ç«¯å£è¿›è¡Œè®¿é—®\n> æœ¬æœºIP æŒ‰ä½option ç‚¹å‡»wifiå›¾æ ‡å³å¯æŸ¥çœ‹IPåœ°å€\n![å±å¹•å¿«ç…§ 2019-03-21 ä¸‹åˆ12.34.24.png](http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-c090d92f3af55725.png)\n\n- 5.åœ¨å¦å¤–ä¸€å°ç”µè„‘æ‰“å¼€è¯¥åœ°å€\n```\nhttp://10.88.10.141:8000\n```\n","source":"_posts/macç”µè„‘å¼€å¯æ–‡ä»¶å…±äº«æœåŠ¡.md","raw":"---\ntitle: macç”µè„‘å¼€å¯æ–‡ä»¶å…±äº«æœåŠ¡\ndate: 2019-05-19 22:38:10\nsubtitle: MacOS å¿«é€Ÿåˆ†äº«æœ¬åœ°æ–‡ä»¶åˆ°å±€åŸŸç½‘\ncategories:\n- åŠˆæŸ´\ntags:\n- Python2.7\n- macOS\ncover: http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3235.jpg\n---\nä½¿ç”¨macè‡ªå¸¦çš„Python 2.7å‘½ä»¤å¿«é€Ÿå…±äº«æœ¬åœ°æ–‡ä»¶.æ“ä½œæ­¥éª¤\n- 1.æ‰“å¼€ç”µè„‘ç»ˆç«¯\n  ![å±å¹•å¿«ç…§ 2019-03-21 ä¸Šåˆ11.45.20.png](http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-6460fb75db8ad0d6.png)\n\n- 2.è¿›å…¥ä½ æƒ³å…±äº«çš„æ–‡ä»¶å¤¹ç›®å½•\n![å±å¹•å¿«ç…§ 2019-03-21 ä¸Šåˆ11.47.52.png](http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-785157544aa83b4f.png)\n```\n è¾“å…¥ cd /Users/ç”¨æˆ·/Desktop/ è¿›å…¥æ¡Œé¢æ–‡ä»¶å¤¹ï¼Œå…±äº«æ¡Œé¢æ–‡ä»¶ \n```\n\n- 3.è¾“å…¥å‘½ä»¤\n```\npython -m SimpleHTTPServer\n```\n![å±å¹•å¿«ç…§ 2019-03-21 ä¸‹åˆ12.30.27.png](http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-eb5707509e383e29.png)\n> è¡¨ç¤ºåœ¨æœ¬æœºçš„8000ç«¯å£å·å¼€å¯æœåŠ¡\n\n- 4.åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ä»»æ„æµè§ˆå™¨è¾“å…¥ip+ç«¯å£è¿›è¡Œè®¿é—®\n> æœ¬æœºIP æŒ‰ä½option ç‚¹å‡»wifiå›¾æ ‡å³å¯æŸ¥çœ‹IPåœ°å€\n![å±å¹•å¿«ç…§ 2019-03-21 ä¸‹åˆ12.34.24.png](http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-c090d92f3af55725.png)\n\n- 5.åœ¨å¦å¤–ä¸€å°ç”µè„‘æ‰“å¼€è¯¥åœ°å€\n```\nhttp://10.88.10.141:8000\n```\n","slug":"macç”µè„‘å¼€å¯æ–‡ä»¶å…±äº«æœåŠ¡","published":1,"updated":"2019-05-19T14:49:19.935Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjvv41zh20008cvof5dv1316b","content":"<p>ä½¿ç”¨macè‡ªå¸¦çš„Python 2.7å‘½ä»¤å¿«é€Ÿå…±äº«æœ¬åœ°æ–‡ä»¶.æ“ä½œæ­¥éª¤</p>\n<ul>\n<li><p>1.æ‰“å¼€ç”µè„‘ç»ˆç«¯<br><img src=\"http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-6460fb75db8ad0d6.png\" alt=\"å±å¹•å¿«ç…§ 2019-03-21 ä¸Šåˆ11.45.20.png\"></p>\n</li>\n<li><p>2.è¿›å…¥ä½ æƒ³å…±äº«çš„æ–‡ä»¶å¤¹ç›®å½•<br><img src=\"http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-785157544aa83b4f.png\" alt=\"å±å¹•å¿«ç…§ 2019-03-21 ä¸Šåˆ11.47.52.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">è¾“å…¥ cd /Users/ç”¨æˆ·/Desktop/ è¿›å…¥æ¡Œé¢æ–‡ä»¶å¤¹ï¼Œå…±äº«æ¡Œé¢æ–‡ä»¶</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>3.è¾“å…¥å‘½ä»¤</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python -m SimpleHTTPServer</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><img src=\"http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-eb5707509e383e29.png\" alt=\"å±å¹•å¿«ç…§ 2019-03-21 ä¸‹åˆ12.30.27.png\"></p>\n<blockquote>\n<p>è¡¨ç¤ºåœ¨æœ¬æœºçš„8000ç«¯å£å·å¼€å¯æœåŠ¡</p>\n</blockquote>\n<ul>\n<li><p>4.åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ä»»æ„æµè§ˆå™¨è¾“å…¥ip+ç«¯å£è¿›è¡Œè®¿é—®</p>\n<blockquote>\n<p>æœ¬æœºIP æŒ‰ä½option ç‚¹å‡»wifiå›¾æ ‡å³å¯æŸ¥çœ‹IPåœ°å€<br><img src=\"http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-c090d92f3af55725.png\" alt=\"å±å¹•å¿«ç…§ 2019-03-21 ä¸‹åˆ12.34.24.png\"></p>\n</blockquote>\n</li>\n<li><p>5.åœ¨å¦å¤–ä¸€å°ç”µè„‘æ‰“å¼€è¯¥åœ°å€</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://10.88.10.141:8000</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n","site":{"data":{"links":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}},"excerpt":"","more":"<p>ä½¿ç”¨macè‡ªå¸¦çš„Python 2.7å‘½ä»¤å¿«é€Ÿå…±äº«æœ¬åœ°æ–‡ä»¶.æ“ä½œæ­¥éª¤</p>\n<ul>\n<li><p>1.æ‰“å¼€ç”µè„‘ç»ˆç«¯<br><img src=\"http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-6460fb75db8ad0d6.png\" alt=\"å±å¹•å¿«ç…§ 2019-03-21 ä¸Šåˆ11.45.20.png\"></p>\n</li>\n<li><p>2.è¿›å…¥ä½ æƒ³å…±äº«çš„æ–‡ä»¶å¤¹ç›®å½•<br><img src=\"http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-785157544aa83b4f.png\" alt=\"å±å¹•å¿«ç…§ 2019-03-21 ä¸Šåˆ11.47.52.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">è¾“å…¥ cd /Users/ç”¨æˆ·/Desktop/ è¿›å…¥æ¡Œé¢æ–‡ä»¶å¤¹ï¼Œå…±äº«æ¡Œé¢æ–‡ä»¶</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>3.è¾“å…¥å‘½ä»¤</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python -m SimpleHTTPServer</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><img src=\"http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-eb5707509e383e29.png\" alt=\"å±å¹•å¿«ç…§ 2019-03-21 ä¸‹åˆ12.30.27.png\"></p>\n<blockquote>\n<p>è¡¨ç¤ºåœ¨æœ¬æœºçš„8000ç«¯å£å·å¼€å¯æœåŠ¡</p>\n</blockquote>\n<ul>\n<li><p>4.åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ä»»æ„æµè§ˆå™¨è¾“å…¥ip+ç«¯å£è¿›è¡Œè®¿é—®</p>\n<blockquote>\n<p>æœ¬æœºIP æŒ‰ä½option ç‚¹å‡»wifiå›¾æ ‡å³å¯æŸ¥çœ‹IPåœ°å€<br><img src=\"http://prr6elh1d.sabkt.gdipper.com/static/images/macç”µè„‘æ–‡ä»¶å…±äº«/2975942-c090d92f3af55725.png\" alt=\"å±å¹•å¿«ç…§ 2019-03-21 ä¸‹åˆ12.34.24.png\"></p>\n</blockquote>\n</li>\n<li><p>5.åœ¨å¦å¤–ä¸€å°ç”µè„‘æ‰“å¼€è¯¥åœ°å€</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://10.88.10.141:8000</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n"},{"title":"ç¼“å­˜è…¾è®¯è§†é¢‘æ–‡ä»¶","date":"2019-05-19T12:44:48.000Z","subtitle":"macOS è·å–è…¾è®¯è§†é¢‘ç¼“å­˜è§†é¢‘æ–‡ä»¶å¹¶è½¬ä¸ºmp4","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3156.jpg","_content":"> äº‹ä»¶èµ·å› \n\n##### æœ€è¿‘æ²¡ç½‘ï¼Œå‰ä¸¤å¤©å»æœ‹å‹é‚£ç¼“å­˜äº†å‡ éƒ¨ç”µå½±ï¼Œ1080pé«˜æ¸…è§†é¢‘ä¸‹è½½é€Ÿåº¦åˆ·åˆ·çš„ã€‚æ‹¿å›æ¥æ’­æ”¾çš„æ—¶å€™å°±åœ¨æƒ³ï¼Œæˆ‘æŠŠè§†é¢‘ç¼“å­˜åˆ°ç”µè„‘äº†ï¼Œé‚£æˆ‘èƒ½æ‰¾åˆ°å—ï¼Ÿè§†é¢‘æ˜¯ä»¥mp4æ–‡ä»¶ç¼“å­˜çš„å—ï¼Ÿæˆ‘èƒ½ä¸èƒ½æ‹¿åˆ°è…¾è®¯VIPä¼šå‘˜çš„ç¼“å­˜è§†é¢‘ï¼Ÿèƒ½ä¸èƒ½ä¿å­˜é«˜æ¸…mp4ï¼Ÿ\n\n> äº‹ä»¶ç»è¿‡\n\n##### æ‹¿ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å°±æ‰’æ‹‰æˆ‘ç”µè„‘(macOS è…¾è®¯è§†é¢‘macç‰ˆ1.8.2)é‡Œé¢çš„ç¼“å­˜æ–‡ä»¶ï¼Œå‘ç°è§†é¢‘ç¼“å­˜åœ¨ğŸ‘‡è¿™ä¸ªç›®å½•\n\n```\n/Users/ç”¨æˆ·/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download\n```\n\n##### æ‰“å¼€é‡Œé¢çš„videoæ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œæˆ‘æ»´ä¸ªç¥ã€‚\n\n> ad\t\t\tg00208rhr0m.320092.hls\tl0019sl1ggv.321003.hls\n> c00226jie90.321003.hls\tj0022vz0heu.321003.hls\n\n##### çœ‹æ–‡ä»¶å¤¹ç»“å°¾çš„åå­—hls \\(^o^)/~ ï¼Œå†æ‰“å¼€ç¿»åˆ°æœ€é‡Œé¢ï¼Œå‘ç°é‡Œé¢çš„æ–‡ä»¶æ˜¯.ts è€Œä¸”å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œæ³¨æ„å¯ä»¥æ­£å¸¸æ’­æ”¾çš„å“¦ï¼ŒğŸ˜ï¼Œï¼ˆæˆ‘è¿˜ä»¥ä¸ºè…¾è®¯ä¼šè‡ªå®šä¹‰è§†é¢‘å¤´ä¿¡æ¯ï¼Œè‡ªå®šä¹‰æ’­æ”¾å™¨ã€‚çœ‹åˆ°è¿™å°±æ”¾å¿ƒäº†ï¼‰ç›´æ¥ä½¿ç”¨ffmpegåˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘å°±è¡Œã€‚\n\n##### å†ç„¶åæ¬å‡ºPythonå¤§å®å‰‘ï¼Œå¼€å§‹åŠˆæŸ´ã€‚\n\n```python\nimport os,sys\nimport logging\nfrom ffmpy import FFmpeg\nfrom natsort import natsorted\n\nlogger = logging.getLogger(__name__)\n\n\ndef hls_dir_to_mp4(in_path_dir, out_path_file):\n    \"\"\"\n    å°†hlsæ–‡ä»¶å¤¹é‡Œé¢åˆ†ç‰‡çš„è§†é¢‘è½¬åŒ–ä¸ºå•ä¸ªMP4æ–‡ä»¶\n    ffmpeg -i \"concat:file001.ts|file002.ts|file003.ts|file004.ts......n.ts\" -acodec copy -vcodec copy -absf aac_adtstoasc out.mp4\n    :param in_path:\n    :param out_path:\n    :return:\n    \"\"\"\n    # è·å–\"concat:file001.ts|file002.ts|file003.ts|file004.ts......n.ts\"åˆ—è¡¨å‚æ•°\n    out_files = []\n    for dir in natsorted([val for val in os.listdir(in_path_dir) if val.startswith(in_path_dir.split(\"/\")[-1])]):\n        dirPath = os.path.join(in_path_dir, dir)\n        print(dirPath)\n\n        for root, dirs, files in os.walk(dirPath):\n            files = natsorted(files)\n            for file in files:\n                if os.path.splitext(file)[1] == '.ts':\n                    # æ‹¼æ¥æˆå®Œæ•´è·¯å¾„\n                    filePath = os.path.join(root, file)\n                    out_files.append(filePath)\n\n    cmd = '|'.join(out_files)\n    print(out_files)\n    cmd = 'concat:' + \"\\\"\" + cmd + \"\\\"\"\n    cmd = 'ffmpeg -i ' + cmd + ' -acodec copy -vcodec copy -absf aac_adtstoasc ' + out_path_file\n    print(execCmd(cmd))\n\n\ndef videoCurv():\n    \"\"\"\n    è½¬æ¢è§†é¢‘æ ¼å¼\n    :return:\n    \"\"\"\n    # è½¬æ¢input.mp4 ä¸º output.avi\n    FFmpeg(inputs={in_path: None}, outputs={out_path: None}).run()\n\n\ndef execCmd(cmd):\n    \"\"\"\n    æ‰§è¡Œè®¡ç®—å‘½ä»¤æ—¶é—´\n    \"\"\"\n    r = os.popen(cmd)\n    text = r.read().strip()\n    r.close()\n    return text\n\n\nif __name__ == '__main__':\n    print(sys.argv)\n    if len(sys.argv) == 3:\n        hls_dir_to_mp4(sys.argv[1], sys.argv[2])\n    elif len(sys.argv) > 1:\n        hls_dir_to_mp4(sys.argv[1], 'tmp.mp4')\n    else:\n        print('è¯·è¾“å…¥è§†é¢‘æ‰€åœ¨ç›®å½•path')\n    # hls_dir_to_mp4(\n    #     in_path_dir='/Users/bunny/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download/video/g00208rhr0m.320092.hls',\n    #     out_path_file='1.mp4');\n\n```\n\n\n\n### æ‰“å®Œæ”¶å·¥\n\nä»£ç å·²ä¸Šä¼ [GitHub](https://github.com/yaooort/videoCreate)\n\n### ä½¿ç”¨æ–¹æ³•\n\n> **1.å®‰è£…ffmpeg**\n>\n> - ``` brew install ffmpeg```\n\n> **2.[å®‰è£…Python3](https://www.python.org/downloads/)**\n>\n> **3.å®‰è£…pipenv**\n>\n> - ```pip install pipenv```\n>\n> **4.åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–åŒ…**\n>\n> - ``` pipenv shell```\n>\n> **5.è¿›å…¥è™šæ‹Ÿç¯å¢ƒå¹¶æ‰§è¡Œè„šæœ¬**\n>\n> - ```pipenv shell```\n>\n> - ```python tencent_video.py /Users/ç”¨æˆ·/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download/video/g00208rhr0m.320092.hls out.mp4```\n>\n\n\n\nå®Œç»“\n","source":"_posts/ç¼“å­˜è…¾è®¯è§†é¢‘æ–‡ä»¶.md","raw":"---\ntitle: ç¼“å­˜è…¾è®¯è§†é¢‘æ–‡ä»¶\ndate: 2019-05-19 20:44:48\nsubtitle: macOS è·å–è…¾è®¯è§†é¢‘ç¼“å­˜è§†é¢‘æ–‡ä»¶å¹¶è½¬ä¸ºmp4\ncategories:\n- åŠˆæŸ´\ntags:\n- Python\n- ffmpeg\n- macOS\ncover: http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3156.jpg\n---\n> äº‹ä»¶èµ·å› \n\n##### æœ€è¿‘æ²¡ç½‘ï¼Œå‰ä¸¤å¤©å»æœ‹å‹é‚£ç¼“å­˜äº†å‡ éƒ¨ç”µå½±ï¼Œ1080pé«˜æ¸…è§†é¢‘ä¸‹è½½é€Ÿåº¦åˆ·åˆ·çš„ã€‚æ‹¿å›æ¥æ’­æ”¾çš„æ—¶å€™å°±åœ¨æƒ³ï¼Œæˆ‘æŠŠè§†é¢‘ç¼“å­˜åˆ°ç”µè„‘äº†ï¼Œé‚£æˆ‘èƒ½æ‰¾åˆ°å—ï¼Ÿè§†é¢‘æ˜¯ä»¥mp4æ–‡ä»¶ç¼“å­˜çš„å—ï¼Ÿæˆ‘èƒ½ä¸èƒ½æ‹¿åˆ°è…¾è®¯VIPä¼šå‘˜çš„ç¼“å­˜è§†é¢‘ï¼Ÿèƒ½ä¸èƒ½ä¿å­˜é«˜æ¸…mp4ï¼Ÿ\n\n> äº‹ä»¶ç»è¿‡\n\n##### æ‹¿ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å°±æ‰’æ‹‰æˆ‘ç”µè„‘(macOS è…¾è®¯è§†é¢‘macç‰ˆ1.8.2)é‡Œé¢çš„ç¼“å­˜æ–‡ä»¶ï¼Œå‘ç°è§†é¢‘ç¼“å­˜åœ¨ğŸ‘‡è¿™ä¸ªç›®å½•\n\n```\n/Users/ç”¨æˆ·/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download\n```\n\n##### æ‰“å¼€é‡Œé¢çš„videoæ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œæˆ‘æ»´ä¸ªç¥ã€‚\n\n> ad\t\t\tg00208rhr0m.320092.hls\tl0019sl1ggv.321003.hls\n> c00226jie90.321003.hls\tj0022vz0heu.321003.hls\n\n##### çœ‹æ–‡ä»¶å¤¹ç»“å°¾çš„åå­—hls \\(^o^)/~ ï¼Œå†æ‰“å¼€ç¿»åˆ°æœ€é‡Œé¢ï¼Œå‘ç°é‡Œé¢çš„æ–‡ä»¶æ˜¯.ts è€Œä¸”å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œæ³¨æ„å¯ä»¥æ­£å¸¸æ’­æ”¾çš„å“¦ï¼ŒğŸ˜ï¼Œï¼ˆæˆ‘è¿˜ä»¥ä¸ºè…¾è®¯ä¼šè‡ªå®šä¹‰è§†é¢‘å¤´ä¿¡æ¯ï¼Œè‡ªå®šä¹‰æ’­æ”¾å™¨ã€‚çœ‹åˆ°è¿™å°±æ”¾å¿ƒäº†ï¼‰ç›´æ¥ä½¿ç”¨ffmpegåˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘å°±è¡Œã€‚\n\n##### å†ç„¶åæ¬å‡ºPythonå¤§å®å‰‘ï¼Œå¼€å§‹åŠˆæŸ´ã€‚\n\n```python\nimport os,sys\nimport logging\nfrom ffmpy import FFmpeg\nfrom natsort import natsorted\n\nlogger = logging.getLogger(__name__)\n\n\ndef hls_dir_to_mp4(in_path_dir, out_path_file):\n    \"\"\"\n    å°†hlsæ–‡ä»¶å¤¹é‡Œé¢åˆ†ç‰‡çš„è§†é¢‘è½¬åŒ–ä¸ºå•ä¸ªMP4æ–‡ä»¶\n    ffmpeg -i \"concat:file001.ts|file002.ts|file003.ts|file004.ts......n.ts\" -acodec copy -vcodec copy -absf aac_adtstoasc out.mp4\n    :param in_path:\n    :param out_path:\n    :return:\n    \"\"\"\n    # è·å–\"concat:file001.ts|file002.ts|file003.ts|file004.ts......n.ts\"åˆ—è¡¨å‚æ•°\n    out_files = []\n    for dir in natsorted([val for val in os.listdir(in_path_dir) if val.startswith(in_path_dir.split(\"/\")[-1])]):\n        dirPath = os.path.join(in_path_dir, dir)\n        print(dirPath)\n\n        for root, dirs, files in os.walk(dirPath):\n            files = natsorted(files)\n            for file in files:\n                if os.path.splitext(file)[1] == '.ts':\n                    # æ‹¼æ¥æˆå®Œæ•´è·¯å¾„\n                    filePath = os.path.join(root, file)\n                    out_files.append(filePath)\n\n    cmd = '|'.join(out_files)\n    print(out_files)\n    cmd = 'concat:' + \"\\\"\" + cmd + \"\\\"\"\n    cmd = 'ffmpeg -i ' + cmd + ' -acodec copy -vcodec copy -absf aac_adtstoasc ' + out_path_file\n    print(execCmd(cmd))\n\n\ndef videoCurv():\n    \"\"\"\n    è½¬æ¢è§†é¢‘æ ¼å¼\n    :return:\n    \"\"\"\n    # è½¬æ¢input.mp4 ä¸º output.avi\n    FFmpeg(inputs={in_path: None}, outputs={out_path: None}).run()\n\n\ndef execCmd(cmd):\n    \"\"\"\n    æ‰§è¡Œè®¡ç®—å‘½ä»¤æ—¶é—´\n    \"\"\"\n    r = os.popen(cmd)\n    text = r.read().strip()\n    r.close()\n    return text\n\n\nif __name__ == '__main__':\n    print(sys.argv)\n    if len(sys.argv) == 3:\n        hls_dir_to_mp4(sys.argv[1], sys.argv[2])\n    elif len(sys.argv) > 1:\n        hls_dir_to_mp4(sys.argv[1], 'tmp.mp4')\n    else:\n        print('è¯·è¾“å…¥è§†é¢‘æ‰€åœ¨ç›®å½•path')\n    # hls_dir_to_mp4(\n    #     in_path_dir='/Users/bunny/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download/video/g00208rhr0m.320092.hls',\n    #     out_path_file='1.mp4');\n\n```\n\n\n\n### æ‰“å®Œæ”¶å·¥\n\nä»£ç å·²ä¸Šä¼ [GitHub](https://github.com/yaooort/videoCreate)\n\n### ä½¿ç”¨æ–¹æ³•\n\n> **1.å®‰è£…ffmpeg**\n>\n> - ``` brew install ffmpeg```\n\n> **2.[å®‰è£…Python3](https://www.python.org/downloads/)**\n>\n> **3.å®‰è£…pipenv**\n>\n> - ```pip install pipenv```\n>\n> **4.åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–åŒ…**\n>\n> - ``` pipenv shell```\n>\n> **5.è¿›å…¥è™šæ‹Ÿç¯å¢ƒå¹¶æ‰§è¡Œè„šæœ¬**\n>\n> - ```pipenv shell```\n>\n> - ```python tencent_video.py /Users/ç”¨æˆ·/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download/video/g00208rhr0m.320092.hls out.mp4```\n>\n\n\n\nå®Œç»“\n","slug":"ç¼“å­˜è…¾è®¯è§†é¢‘æ–‡ä»¶","published":1,"updated":"2019-05-19T14:34:33.964Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjvv41zh4000acvofl5dgoggd","content":"<blockquote>\n<p>äº‹ä»¶èµ·å› </p>\n</blockquote>\n<h5 id=\"æœ€è¿‘æ²¡ç½‘ï¼Œå‰ä¸¤å¤©å»æœ‹å‹é‚£ç¼“å­˜äº†å‡ éƒ¨ç”µå½±ï¼Œ1080pé«˜æ¸…è§†é¢‘ä¸‹è½½é€Ÿåº¦åˆ·åˆ·çš„ã€‚æ‹¿å›æ¥æ’­æ”¾çš„æ—¶å€™å°±åœ¨æƒ³ï¼Œæˆ‘æŠŠè§†é¢‘ç¼“å­˜åˆ°ç”µè„‘äº†ï¼Œé‚£æˆ‘èƒ½æ‰¾åˆ°å—ï¼Ÿè§†é¢‘æ˜¯ä»¥mp4æ–‡ä»¶ç¼“å­˜çš„å—ï¼Ÿæˆ‘èƒ½ä¸èƒ½æ‹¿åˆ°è…¾è®¯VIPä¼šå‘˜çš„ç¼“å­˜è§†é¢‘ï¼Ÿèƒ½ä¸èƒ½ä¿å­˜é«˜æ¸…mp4ï¼Ÿ\"><a href=\"#æœ€è¿‘æ²¡ç½‘ï¼Œå‰ä¸¤å¤©å»æœ‹å‹é‚£ç¼“å­˜äº†å‡ éƒ¨ç”µå½±ï¼Œ1080pé«˜æ¸…è§†é¢‘ä¸‹è½½é€Ÿåº¦åˆ·åˆ·çš„ã€‚æ‹¿å›æ¥æ’­æ”¾çš„æ—¶å€™å°±åœ¨æƒ³ï¼Œæˆ‘æŠŠè§†é¢‘ç¼“å­˜åˆ°ç”µè„‘äº†ï¼Œé‚£æˆ‘èƒ½æ‰¾åˆ°å—ï¼Ÿè§†é¢‘æ˜¯ä»¥mp4æ–‡ä»¶ç¼“å­˜çš„å—ï¼Ÿæˆ‘èƒ½ä¸èƒ½æ‹¿åˆ°è…¾è®¯VIPä¼šå‘˜çš„ç¼“å­˜è§†é¢‘ï¼Ÿèƒ½ä¸èƒ½ä¿å­˜é«˜æ¸…mp4ï¼Ÿ\" class=\"headerlink\" title=\"æœ€è¿‘æ²¡ç½‘ï¼Œå‰ä¸¤å¤©å»æœ‹å‹é‚£ç¼“å­˜äº†å‡ éƒ¨ç”µå½±ï¼Œ1080pé«˜æ¸…è§†é¢‘ä¸‹è½½é€Ÿåº¦åˆ·åˆ·çš„ã€‚æ‹¿å›æ¥æ’­æ”¾çš„æ—¶å€™å°±åœ¨æƒ³ï¼Œæˆ‘æŠŠè§†é¢‘ç¼“å­˜åˆ°ç”µè„‘äº†ï¼Œé‚£æˆ‘èƒ½æ‰¾åˆ°å—ï¼Ÿè§†é¢‘æ˜¯ä»¥mp4æ–‡ä»¶ç¼“å­˜çš„å—ï¼Ÿæˆ‘èƒ½ä¸èƒ½æ‹¿åˆ°è…¾è®¯VIPä¼šå‘˜çš„ç¼“å­˜è§†é¢‘ï¼Ÿèƒ½ä¸èƒ½ä¿å­˜é«˜æ¸…mp4ï¼Ÿ\"></a>æœ€è¿‘æ²¡ç½‘ï¼Œå‰ä¸¤å¤©å»æœ‹å‹é‚£ç¼“å­˜äº†å‡ éƒ¨ç”µå½±ï¼Œ1080pé«˜æ¸…è§†é¢‘ä¸‹è½½é€Ÿåº¦åˆ·åˆ·çš„ã€‚æ‹¿å›æ¥æ’­æ”¾çš„æ—¶å€™å°±åœ¨æƒ³ï¼Œæˆ‘æŠŠè§†é¢‘ç¼“å­˜åˆ°ç”µè„‘äº†ï¼Œé‚£æˆ‘èƒ½æ‰¾åˆ°å—ï¼Ÿè§†é¢‘æ˜¯ä»¥mp4æ–‡ä»¶ç¼“å­˜çš„å—ï¼Ÿæˆ‘èƒ½ä¸èƒ½æ‹¿åˆ°è…¾è®¯VIPä¼šå‘˜çš„ç¼“å­˜è§†é¢‘ï¼Ÿèƒ½ä¸èƒ½ä¿å­˜é«˜æ¸…mp4ï¼Ÿ</h5><blockquote>\n<p>äº‹ä»¶ç»è¿‡</p>\n</blockquote>\n<h5 id=\"æ‹¿ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å°±æ‰’æ‹‰æˆ‘ç”µè„‘-macOS-è…¾è®¯è§†é¢‘macç‰ˆ1-8-2-é‡Œé¢çš„ç¼“å­˜æ–‡ä»¶ï¼Œå‘ç°è§†é¢‘ç¼“å­˜åœ¨ğŸ‘‡è¿™ä¸ªç›®å½•\"><a href=\"#æ‹¿ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å°±æ‰’æ‹‰æˆ‘ç”µè„‘-macOS-è…¾è®¯è§†é¢‘macç‰ˆ1-8-2-é‡Œé¢çš„ç¼“å­˜æ–‡ä»¶ï¼Œå‘ç°è§†é¢‘ç¼“å­˜åœ¨ğŸ‘‡è¿™ä¸ªç›®å½•\" class=\"headerlink\" title=\"æ‹¿ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å°±æ‰’æ‹‰æˆ‘ç”µè„‘(macOS è…¾è®¯è§†é¢‘macç‰ˆ1.8.2)é‡Œé¢çš„ç¼“å­˜æ–‡ä»¶ï¼Œå‘ç°è§†é¢‘ç¼“å­˜åœ¨ğŸ‘‡è¿™ä¸ªç›®å½•\"></a>æ‹¿ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å°±æ‰’æ‹‰æˆ‘ç”µè„‘(macOS è…¾è®¯è§†é¢‘macç‰ˆ1.8.2)é‡Œé¢çš„ç¼“å­˜æ–‡ä»¶ï¼Œå‘ç°è§†é¢‘ç¼“å­˜åœ¨ğŸ‘‡è¿™ä¸ªç›®å½•</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/Users/ç”¨æˆ·/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download</span><br></pre></td></tr></table></figure>\n<h5 id=\"æ‰“å¼€é‡Œé¢çš„videoæ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œæˆ‘æ»´ä¸ªç¥ã€‚\"><a href=\"#æ‰“å¼€é‡Œé¢çš„videoæ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œæˆ‘æ»´ä¸ªç¥ã€‚\" class=\"headerlink\" title=\"æ‰“å¼€é‡Œé¢çš„videoæ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œæˆ‘æ»´ä¸ªç¥ã€‚\"></a>æ‰“å¼€é‡Œé¢çš„videoæ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œæˆ‘æ»´ä¸ªç¥ã€‚</h5><blockquote>\n<p>ad            g00208rhr0m.320092.hls    l0019sl1ggv.321003.hls<br>c00226jie90.321003.hls    j0022vz0heu.321003.hls</p>\n</blockquote>\n<h5 id=\"çœ‹æ–‡ä»¶å¤¹ç»“å°¾çš„åå­—hls-o-ï¼Œå†æ‰“å¼€ç¿»åˆ°æœ€é‡Œé¢ï¼Œå‘ç°é‡Œé¢çš„æ–‡ä»¶æ˜¯-ts-è€Œä¸”å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œæ³¨æ„å¯ä»¥æ­£å¸¸æ’­æ”¾çš„å“¦ï¼ŒğŸ˜ï¼Œï¼ˆæˆ‘è¿˜ä»¥ä¸ºè…¾è®¯ä¼šè‡ªå®šä¹‰è§†é¢‘å¤´ä¿¡æ¯ï¼Œè‡ªå®šä¹‰æ’­æ”¾å™¨ã€‚çœ‹åˆ°è¿™å°±æ”¾å¿ƒäº†ï¼‰ç›´æ¥ä½¿ç”¨ffmpegåˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘å°±è¡Œã€‚\"><a href=\"#çœ‹æ–‡ä»¶å¤¹ç»“å°¾çš„åå­—hls-o-ï¼Œå†æ‰“å¼€ç¿»åˆ°æœ€é‡Œé¢ï¼Œå‘ç°é‡Œé¢çš„æ–‡ä»¶æ˜¯-ts-è€Œä¸”å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œæ³¨æ„å¯ä»¥æ­£å¸¸æ’­æ”¾çš„å“¦ï¼ŒğŸ˜ï¼Œï¼ˆæˆ‘è¿˜ä»¥ä¸ºè…¾è®¯ä¼šè‡ªå®šä¹‰è§†é¢‘å¤´ä¿¡æ¯ï¼Œè‡ªå®šä¹‰æ’­æ”¾å™¨ã€‚çœ‹åˆ°è¿™å°±æ”¾å¿ƒäº†ï¼‰ç›´æ¥ä½¿ç”¨ffmpegåˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘å°±è¡Œã€‚\" class=\"headerlink\" title=\"çœ‹æ–‡ä»¶å¤¹ç»“å°¾çš„åå­—hls (^o^)/~ ï¼Œå†æ‰“å¼€ç¿»åˆ°æœ€é‡Œé¢ï¼Œå‘ç°é‡Œé¢çš„æ–‡ä»¶æ˜¯.ts è€Œä¸”å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œæ³¨æ„å¯ä»¥æ­£å¸¸æ’­æ”¾çš„å“¦ï¼ŒğŸ˜ï¼Œï¼ˆæˆ‘è¿˜ä»¥ä¸ºè…¾è®¯ä¼šè‡ªå®šä¹‰è§†é¢‘å¤´ä¿¡æ¯ï¼Œè‡ªå®šä¹‰æ’­æ”¾å™¨ã€‚çœ‹åˆ°è¿™å°±æ”¾å¿ƒäº†ï¼‰ç›´æ¥ä½¿ç”¨ffmpegåˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘å°±è¡Œã€‚\"></a>çœ‹æ–‡ä»¶å¤¹ç»“å°¾çš„åå­—hls (^o^)/~ ï¼Œå†æ‰“å¼€ç¿»åˆ°æœ€é‡Œé¢ï¼Œå‘ç°é‡Œé¢çš„æ–‡ä»¶æ˜¯.ts è€Œä¸”å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œæ³¨æ„å¯ä»¥æ­£å¸¸æ’­æ”¾çš„å“¦ï¼ŒğŸ˜ï¼Œï¼ˆæˆ‘è¿˜ä»¥ä¸ºè…¾è®¯ä¼šè‡ªå®šä¹‰è§†é¢‘å¤´ä¿¡æ¯ï¼Œè‡ªå®šä¹‰æ’­æ”¾å™¨ã€‚çœ‹åˆ°è¿™å°±æ”¾å¿ƒäº†ï¼‰ç›´æ¥ä½¿ç”¨ffmpegåˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘å°±è¡Œã€‚</h5><h5 id=\"å†ç„¶åæ¬å‡ºPythonå¤§å®å‰‘ï¼Œå¼€å§‹åŠˆæŸ´ã€‚\"><a href=\"#å†ç„¶åæ¬å‡ºPythonå¤§å®å‰‘ï¼Œå¼€å§‹åŠˆæŸ´ã€‚\" class=\"headerlink\" title=\"å†ç„¶åæ¬å‡ºPythonå¤§å®å‰‘ï¼Œå¼€å§‹åŠˆæŸ´ã€‚\"></a>å†ç„¶åæ¬å‡ºPythonå¤§å®å‰‘ï¼Œå¼€å§‹åŠˆæŸ´ã€‚</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os,sys</span><br><span class=\"line\"><span class=\"keyword\">import</span> logging</span><br><span class=\"line\"><span class=\"keyword\">from</span> ffmpy <span class=\"keyword\">import</span> FFmpeg</span><br><span class=\"line\"><span class=\"keyword\">from</span> natsort <span class=\"keyword\">import</span> natsorted</span><br><span class=\"line\"></span><br><span class=\"line\">logger = logging.getLogger(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hls_dir_to_mp4</span><span class=\"params\">(in_path_dir, out_path_file)</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">    å°†hlsæ–‡ä»¶å¤¹é‡Œé¢åˆ†ç‰‡çš„è§†é¢‘è½¬åŒ–ä¸ºå•ä¸ªMP4æ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"string\">    ffmpeg -i \"concat:file001.ts|file002.ts|file003.ts|file004.ts......n.ts\" -acodec copy -vcodec copy -absf aac_adtstoasc out.mp4</span></span><br><span class=\"line\"><span class=\"string\">    :param in_path:</span></span><br><span class=\"line\"><span class=\"string\">    :param out_path:</span></span><br><span class=\"line\"><span class=\"string\">    :return:</span></span><br><span class=\"line\"><span class=\"string\">    \"\"\"</span></span><br><span class=\"line\">    <span class=\"comment\"># è·å–\"concat:file001.ts|file002.ts|file003.ts|file004.ts......n.ts\"åˆ—è¡¨å‚æ•°</span></span><br><span class=\"line\">    out_files = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> dir <span class=\"keyword\">in</span> natsorted([val <span class=\"keyword\">for</span> val <span class=\"keyword\">in</span> os.listdir(in_path_dir) <span class=\"keyword\">if</span> val.startswith(in_path_dir.split(<span class=\"string\">\"/\"</span>)[<span class=\"number\">-1</span>])]):</span><br><span class=\"line\">        dirPath = os.path.join(in_path_dir, dir)</span><br><span class=\"line\">        print(dirPath)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> root, dirs, files <span class=\"keyword\">in</span> os.walk(dirPath):</span><br><span class=\"line\">            files = natsorted(files)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> files:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> os.path.splitext(file)[<span class=\"number\">1</span>] == <span class=\"string\">'.ts'</span>:</span><br><span class=\"line\">                    <span class=\"comment\"># æ‹¼æ¥æˆå®Œæ•´è·¯å¾„</span></span><br><span class=\"line\">                    filePath = os.path.join(root, file)</span><br><span class=\"line\">                    out_files.append(filePath)</span><br><span class=\"line\"></span><br><span class=\"line\">    cmd = <span class=\"string\">'|'</span>.join(out_files)</span><br><span class=\"line\">    print(out_files)</span><br><span class=\"line\">    cmd = <span class=\"string\">'concat:'</span> + <span class=\"string\">\"\\\"\"</span> + cmd + <span class=\"string\">\"\\\"\"</span></span><br><span class=\"line\">    cmd = <span class=\"string\">'ffmpeg -i '</span> + cmd + <span class=\"string\">' -acodec copy -vcodec copy -absf aac_adtstoasc '</span> + out_path_file</span><br><span class=\"line\">    print(execCmd(cmd))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">videoCurv</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">    è½¬æ¢è§†é¢‘æ ¼å¼</span></span><br><span class=\"line\"><span class=\"string\">    :return:</span></span><br><span class=\"line\"><span class=\"string\">    \"\"\"</span></span><br><span class=\"line\">    <span class=\"comment\"># è½¬æ¢input.mp4 ä¸º output.avi</span></span><br><span class=\"line\">    FFmpeg(inputs=&#123;in_path: <span class=\"literal\">None</span>&#125;, outputs=&#123;out_path: <span class=\"literal\">None</span>&#125;).run()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">execCmd</span><span class=\"params\">(cmd)</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">    æ‰§è¡Œè®¡ç®—å‘½ä»¤æ—¶é—´</span></span><br><span class=\"line\"><span class=\"string\">    \"\"\"</span></span><br><span class=\"line\">    r = os.popen(cmd)</span><br><span class=\"line\">    text = r.read().strip()</span><br><span class=\"line\">    r.close()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> text</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    print(sys.argv)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(sys.argv) == <span class=\"number\">3</span>:</span><br><span class=\"line\">        hls_dir_to_mp4(sys.argv[<span class=\"number\">1</span>], sys.argv[<span class=\"number\">2</span>])</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> len(sys.argv) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">        hls_dir_to_mp4(sys.argv[<span class=\"number\">1</span>], <span class=\"string\">'tmp.mp4'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        print(<span class=\"string\">'è¯·è¾“å…¥è§†é¢‘æ‰€åœ¨ç›®å½•path'</span>)</span><br><span class=\"line\">    <span class=\"comment\"># hls_dir_to_mp4(</span></span><br><span class=\"line\">    <span class=\"comment\">#     in_path_dir='/Users/bunny/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download/video/g00208rhr0m.320092.hls',</span></span><br><span class=\"line\">    <span class=\"comment\">#     out_path_file='1.mp4');</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"æ‰“å®Œæ”¶å·¥\"><a href=\"#æ‰“å®Œæ”¶å·¥\" class=\"headerlink\" title=\"æ‰“å®Œæ”¶å·¥\"></a>æ‰“å®Œæ”¶å·¥</h3><p>ä»£ç å·²ä¸Šä¼ <a href=\"https://github.com/yaooort/videoCreate\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<h3 id=\"ä½¿ç”¨æ–¹æ³•\"><a href=\"#ä½¿ç”¨æ–¹æ³•\" class=\"headerlink\" title=\"ä½¿ç”¨æ–¹æ³•\"></a>ä½¿ç”¨æ–¹æ³•</h3><blockquote>\n<p><strong>1.å®‰è£…ffmpeg</strong></p>\n<ul>\n<li><figure class=\"highlight plain\"><figcaption><span>install ffmpeg```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&gt; **2.[å®‰è£…Python3](https://www.python.org/downloads/)**</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; **3.å®‰è£…pipenv**</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; - ```pip install pipenv</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</blockquote>\n<blockquote>\n<p><strong>4.åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–åŒ…</strong></p>\n<ul>\n<li><figure class=\"highlight plain\"><figcaption><span>shell```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; **5.è¿›å…¥è™šæ‹Ÿç¯å¢ƒå¹¶æ‰§è¡Œè„šæœ¬**</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; - ```pipenv shell</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li><code>python tencent_video.py /Users/ç”¨æˆ·/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download/video/g00208rhr0m.320092.hls out.mp4</code></li>\n</ul>\n</blockquote>\n<p>å®Œç»“</p>\n","site":{"data":{"links":[{"name":"Yaooort","describe":"å¤§å‚»å­","link":"http://www.yaooort.com","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_4172.jpg"},{"name":"GitHub","describe":"ç›´ç”·ç½‘","link":"https://github.com/yaooort","cover":"http://prr6elh1d.sabkt.gdipper.com/static/images/IMG_3829.jpg"}]}},"excerpt":"","more":"<blockquote>\n<p>äº‹ä»¶èµ·å› </p>\n</blockquote>\n<h5 id=\"æœ€è¿‘æ²¡ç½‘ï¼Œå‰ä¸¤å¤©å»æœ‹å‹é‚£ç¼“å­˜äº†å‡ éƒ¨ç”µå½±ï¼Œ1080pé«˜æ¸…è§†é¢‘ä¸‹è½½é€Ÿåº¦åˆ·åˆ·çš„ã€‚æ‹¿å›æ¥æ’­æ”¾çš„æ—¶å€™å°±åœ¨æƒ³ï¼Œæˆ‘æŠŠè§†é¢‘ç¼“å­˜åˆ°ç”µè„‘äº†ï¼Œé‚£æˆ‘èƒ½æ‰¾åˆ°å—ï¼Ÿè§†é¢‘æ˜¯ä»¥mp4æ–‡ä»¶ç¼“å­˜çš„å—ï¼Ÿæˆ‘èƒ½ä¸èƒ½æ‹¿åˆ°è…¾è®¯VIPä¼šå‘˜çš„ç¼“å­˜è§†é¢‘ï¼Ÿèƒ½ä¸èƒ½ä¿å­˜é«˜æ¸…mp4ï¼Ÿ\"><a href=\"#æœ€è¿‘æ²¡ç½‘ï¼Œå‰ä¸¤å¤©å»æœ‹å‹é‚£ç¼“å­˜äº†å‡ éƒ¨ç”µå½±ï¼Œ1080pé«˜æ¸…è§†é¢‘ä¸‹è½½é€Ÿåº¦åˆ·åˆ·çš„ã€‚æ‹¿å›æ¥æ’­æ”¾çš„æ—¶å€™å°±åœ¨æƒ³ï¼Œæˆ‘æŠŠè§†é¢‘ç¼“å­˜åˆ°ç”µè„‘äº†ï¼Œé‚£æˆ‘èƒ½æ‰¾åˆ°å—ï¼Ÿè§†é¢‘æ˜¯ä»¥mp4æ–‡ä»¶ç¼“å­˜çš„å—ï¼Ÿæˆ‘èƒ½ä¸èƒ½æ‹¿åˆ°è…¾è®¯VIPä¼šå‘˜çš„ç¼“å­˜è§†é¢‘ï¼Ÿèƒ½ä¸èƒ½ä¿å­˜é«˜æ¸…mp4ï¼Ÿ\" class=\"headerlink\" title=\"æœ€è¿‘æ²¡ç½‘ï¼Œå‰ä¸¤å¤©å»æœ‹å‹é‚£ç¼“å­˜äº†å‡ éƒ¨ç”µå½±ï¼Œ1080pé«˜æ¸…è§†é¢‘ä¸‹è½½é€Ÿåº¦åˆ·åˆ·çš„ã€‚æ‹¿å›æ¥æ’­æ”¾çš„æ—¶å€™å°±åœ¨æƒ³ï¼Œæˆ‘æŠŠè§†é¢‘ç¼“å­˜åˆ°ç”µè„‘äº†ï¼Œé‚£æˆ‘èƒ½æ‰¾åˆ°å—ï¼Ÿè§†é¢‘æ˜¯ä»¥mp4æ–‡ä»¶ç¼“å­˜çš„å—ï¼Ÿæˆ‘èƒ½ä¸èƒ½æ‹¿åˆ°è…¾è®¯VIPä¼šå‘˜çš„ç¼“å­˜è§†é¢‘ï¼Ÿèƒ½ä¸èƒ½ä¿å­˜é«˜æ¸…mp4ï¼Ÿ\"></a>æœ€è¿‘æ²¡ç½‘ï¼Œå‰ä¸¤å¤©å»æœ‹å‹é‚£ç¼“å­˜äº†å‡ éƒ¨ç”µå½±ï¼Œ1080pé«˜æ¸…è§†é¢‘ä¸‹è½½é€Ÿåº¦åˆ·åˆ·çš„ã€‚æ‹¿å›æ¥æ’­æ”¾çš„æ—¶å€™å°±åœ¨æƒ³ï¼Œæˆ‘æŠŠè§†é¢‘ç¼“å­˜åˆ°ç”µè„‘äº†ï¼Œé‚£æˆ‘èƒ½æ‰¾åˆ°å—ï¼Ÿè§†é¢‘æ˜¯ä»¥mp4æ–‡ä»¶ç¼“å­˜çš„å—ï¼Ÿæˆ‘èƒ½ä¸èƒ½æ‹¿åˆ°è…¾è®¯VIPä¼šå‘˜çš„ç¼“å­˜è§†é¢‘ï¼Ÿèƒ½ä¸èƒ½ä¿å­˜é«˜æ¸…mp4ï¼Ÿ</h5><blockquote>\n<p>äº‹ä»¶ç»è¿‡</p>\n</blockquote>\n<h5 id=\"æ‹¿ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å°±æ‰’æ‹‰æˆ‘ç”µè„‘-macOS-è…¾è®¯è§†é¢‘macç‰ˆ1-8-2-é‡Œé¢çš„ç¼“å­˜æ–‡ä»¶ï¼Œå‘ç°è§†é¢‘ç¼“å­˜åœ¨ğŸ‘‡è¿™ä¸ªç›®å½•\"><a href=\"#æ‹¿ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å°±æ‰’æ‹‰æˆ‘ç”µè„‘-macOS-è…¾è®¯è§†é¢‘macç‰ˆ1-8-2-é‡Œé¢çš„ç¼“å­˜æ–‡ä»¶ï¼Œå‘ç°è§†é¢‘ç¼“å­˜åœ¨ğŸ‘‡è¿™ä¸ªç›®å½•\" class=\"headerlink\" title=\"æ‹¿ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å°±æ‰’æ‹‰æˆ‘ç”µè„‘(macOS è…¾è®¯è§†é¢‘macç‰ˆ1.8.2)é‡Œé¢çš„ç¼“å­˜æ–‡ä»¶ï¼Œå‘ç°è§†é¢‘ç¼“å­˜åœ¨ğŸ‘‡è¿™ä¸ªç›®å½•\"></a>æ‹¿ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å°±æ‰’æ‹‰æˆ‘ç”µè„‘(macOS è…¾è®¯è§†é¢‘macç‰ˆ1.8.2)é‡Œé¢çš„ç¼“å­˜æ–‡ä»¶ï¼Œå‘ç°è§†é¢‘ç¼“å­˜åœ¨ğŸ‘‡è¿™ä¸ªç›®å½•</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/Users/ç”¨æˆ·/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download</span><br></pre></td></tr></table></figure>\n<h5 id=\"æ‰“å¼€é‡Œé¢çš„videoæ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œæˆ‘æ»´ä¸ªç¥ã€‚\"><a href=\"#æ‰“å¼€é‡Œé¢çš„videoæ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œæˆ‘æ»´ä¸ªç¥ã€‚\" class=\"headerlink\" title=\"æ‰“å¼€é‡Œé¢çš„videoæ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œæˆ‘æ»´ä¸ªç¥ã€‚\"></a>æ‰“å¼€é‡Œé¢çš„videoæ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œæˆ‘æ»´ä¸ªç¥ã€‚</h5><blockquote>\n<p>ad            g00208rhr0m.320092.hls    l0019sl1ggv.321003.hls<br>c00226jie90.321003.hls    j0022vz0heu.321003.hls</p>\n</blockquote>\n<h5 id=\"çœ‹æ–‡ä»¶å¤¹ç»“å°¾çš„åå­—hls-o-ï¼Œå†æ‰“å¼€ç¿»åˆ°æœ€é‡Œé¢ï¼Œå‘ç°é‡Œé¢çš„æ–‡ä»¶æ˜¯-ts-è€Œä¸”å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œæ³¨æ„å¯ä»¥æ­£å¸¸æ’­æ”¾çš„å“¦ï¼ŒğŸ˜ï¼Œï¼ˆæˆ‘è¿˜ä»¥ä¸ºè…¾è®¯ä¼šè‡ªå®šä¹‰è§†é¢‘å¤´ä¿¡æ¯ï¼Œè‡ªå®šä¹‰æ’­æ”¾å™¨ã€‚çœ‹åˆ°è¿™å°±æ”¾å¿ƒäº†ï¼‰ç›´æ¥ä½¿ç”¨ffmpegåˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘å°±è¡Œã€‚\"><a href=\"#çœ‹æ–‡ä»¶å¤¹ç»“å°¾çš„åå­—hls-o-ï¼Œå†æ‰“å¼€ç¿»åˆ°æœ€é‡Œé¢ï¼Œå‘ç°é‡Œé¢çš„æ–‡ä»¶æ˜¯-ts-è€Œä¸”å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œæ³¨æ„å¯ä»¥æ­£å¸¸æ’­æ”¾çš„å“¦ï¼ŒğŸ˜ï¼Œï¼ˆæˆ‘è¿˜ä»¥ä¸ºè…¾è®¯ä¼šè‡ªå®šä¹‰è§†é¢‘å¤´ä¿¡æ¯ï¼Œè‡ªå®šä¹‰æ’­æ”¾å™¨ã€‚çœ‹åˆ°è¿™å°±æ”¾å¿ƒäº†ï¼‰ç›´æ¥ä½¿ç”¨ffmpegåˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘å°±è¡Œã€‚\" class=\"headerlink\" title=\"çœ‹æ–‡ä»¶å¤¹ç»“å°¾çš„åå­—hls (^o^)/~ ï¼Œå†æ‰“å¼€ç¿»åˆ°æœ€é‡Œé¢ï¼Œå‘ç°é‡Œé¢çš„æ–‡ä»¶æ˜¯.ts è€Œä¸”å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œæ³¨æ„å¯ä»¥æ­£å¸¸æ’­æ”¾çš„å“¦ï¼ŒğŸ˜ï¼Œï¼ˆæˆ‘è¿˜ä»¥ä¸ºè…¾è®¯ä¼šè‡ªå®šä¹‰è§†é¢‘å¤´ä¿¡æ¯ï¼Œè‡ªå®šä¹‰æ’­æ”¾å™¨ã€‚çœ‹åˆ°è¿™å°±æ”¾å¿ƒäº†ï¼‰ç›´æ¥ä½¿ç”¨ffmpegåˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘å°±è¡Œã€‚\"></a>çœ‹æ–‡ä»¶å¤¹ç»“å°¾çš„åå­—hls (^o^)/~ ï¼Œå†æ‰“å¼€ç¿»åˆ°æœ€é‡Œé¢ï¼Œå‘ç°é‡Œé¢çš„æ–‡ä»¶æ˜¯.ts è€Œä¸”å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œæ³¨æ„å¯ä»¥æ­£å¸¸æ’­æ”¾çš„å“¦ï¼ŒğŸ˜ï¼Œï¼ˆæˆ‘è¿˜ä»¥ä¸ºè…¾è®¯ä¼šè‡ªå®šä¹‰è§†é¢‘å¤´ä¿¡æ¯ï¼Œè‡ªå®šä¹‰æ’­æ”¾å™¨ã€‚çœ‹åˆ°è¿™å°±æ”¾å¿ƒäº†ï¼‰ç›´æ¥ä½¿ç”¨ffmpegåˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘å°±è¡Œã€‚</h5><h5 id=\"å†ç„¶åæ¬å‡ºPythonå¤§å®å‰‘ï¼Œå¼€å§‹åŠˆæŸ´ã€‚\"><a href=\"#å†ç„¶åæ¬å‡ºPythonå¤§å®å‰‘ï¼Œå¼€å§‹åŠˆæŸ´ã€‚\" class=\"headerlink\" title=\"å†ç„¶åæ¬å‡ºPythonå¤§å®å‰‘ï¼Œå¼€å§‹åŠˆæŸ´ã€‚\"></a>å†ç„¶åæ¬å‡ºPythonå¤§å®å‰‘ï¼Œå¼€å§‹åŠˆæŸ´ã€‚</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os,sys</span><br><span class=\"line\"><span class=\"keyword\">import</span> logging</span><br><span class=\"line\"><span class=\"keyword\">from</span> ffmpy <span class=\"keyword\">import</span> FFmpeg</span><br><span class=\"line\"><span class=\"keyword\">from</span> natsort <span class=\"keyword\">import</span> natsorted</span><br><span class=\"line\"></span><br><span class=\"line\">logger = logging.getLogger(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hls_dir_to_mp4</span><span class=\"params\">(in_path_dir, out_path_file)</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">    å°†hlsæ–‡ä»¶å¤¹é‡Œé¢åˆ†ç‰‡çš„è§†é¢‘è½¬åŒ–ä¸ºå•ä¸ªMP4æ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"string\">    ffmpeg -i \"concat:file001.ts|file002.ts|file003.ts|file004.ts......n.ts\" -acodec copy -vcodec copy -absf aac_adtstoasc out.mp4</span></span><br><span class=\"line\"><span class=\"string\">    :param in_path:</span></span><br><span class=\"line\"><span class=\"string\">    :param out_path:</span></span><br><span class=\"line\"><span class=\"string\">    :return:</span></span><br><span class=\"line\"><span class=\"string\">    \"\"\"</span></span><br><span class=\"line\">    <span class=\"comment\"># è·å–\"concat:file001.ts|file002.ts|file003.ts|file004.ts......n.ts\"åˆ—è¡¨å‚æ•°</span></span><br><span class=\"line\">    out_files = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> dir <span class=\"keyword\">in</span> natsorted([val <span class=\"keyword\">for</span> val <span class=\"keyword\">in</span> os.listdir(in_path_dir) <span class=\"keyword\">if</span> val.startswith(in_path_dir.split(<span class=\"string\">\"/\"</span>)[<span class=\"number\">-1</span>])]):</span><br><span class=\"line\">        dirPath = os.path.join(in_path_dir, dir)</span><br><span class=\"line\">        print(dirPath)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> root, dirs, files <span class=\"keyword\">in</span> os.walk(dirPath):</span><br><span class=\"line\">            files = natsorted(files)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> files:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> os.path.splitext(file)[<span class=\"number\">1</span>] == <span class=\"string\">'.ts'</span>:</span><br><span class=\"line\">                    <span class=\"comment\"># æ‹¼æ¥æˆå®Œæ•´è·¯å¾„</span></span><br><span class=\"line\">                    filePath = os.path.join(root, file)</span><br><span class=\"line\">                    out_files.append(filePath)</span><br><span class=\"line\"></span><br><span class=\"line\">    cmd = <span class=\"string\">'|'</span>.join(out_files)</span><br><span class=\"line\">    print(out_files)</span><br><span class=\"line\">    cmd = <span class=\"string\">'concat:'</span> + <span class=\"string\">\"\\\"\"</span> + cmd + <span class=\"string\">\"\\\"\"</span></span><br><span class=\"line\">    cmd = <span class=\"string\">'ffmpeg -i '</span> + cmd + <span class=\"string\">' -acodec copy -vcodec copy -absf aac_adtstoasc '</span> + out_path_file</span><br><span class=\"line\">    print(execCmd(cmd))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">videoCurv</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">    è½¬æ¢è§†é¢‘æ ¼å¼</span></span><br><span class=\"line\"><span class=\"string\">    :return:</span></span><br><span class=\"line\"><span class=\"string\">    \"\"\"</span></span><br><span class=\"line\">    <span class=\"comment\"># è½¬æ¢input.mp4 ä¸º output.avi</span></span><br><span class=\"line\">    FFmpeg(inputs=&#123;in_path: <span class=\"literal\">None</span>&#125;, outputs=&#123;out_path: <span class=\"literal\">None</span>&#125;).run()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">execCmd</span><span class=\"params\">(cmd)</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">    æ‰§è¡Œè®¡ç®—å‘½ä»¤æ—¶é—´</span></span><br><span class=\"line\"><span class=\"string\">    \"\"\"</span></span><br><span class=\"line\">    r = os.popen(cmd)</span><br><span class=\"line\">    text = r.read().strip()</span><br><span class=\"line\">    r.close()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> text</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    print(sys.argv)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(sys.argv) == <span class=\"number\">3</span>:</span><br><span class=\"line\">        hls_dir_to_mp4(sys.argv[<span class=\"number\">1</span>], sys.argv[<span class=\"number\">2</span>])</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> len(sys.argv) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">        hls_dir_to_mp4(sys.argv[<span class=\"number\">1</span>], <span class=\"string\">'tmp.mp4'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        print(<span class=\"string\">'è¯·è¾“å…¥è§†é¢‘æ‰€åœ¨ç›®å½•path'</span>)</span><br><span class=\"line\">    <span class=\"comment\"># hls_dir_to_mp4(</span></span><br><span class=\"line\">    <span class=\"comment\">#     in_path_dir='/Users/bunny/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download/video/g00208rhr0m.320092.hls',</span></span><br><span class=\"line\">    <span class=\"comment\">#     out_path_file='1.mp4');</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"æ‰“å®Œæ”¶å·¥\"><a href=\"#æ‰“å®Œæ”¶å·¥\" class=\"headerlink\" title=\"æ‰“å®Œæ”¶å·¥\"></a>æ‰“å®Œæ”¶å·¥</h3><p>ä»£ç å·²ä¸Šä¼ <a href=\"https://github.com/yaooort/videoCreate\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<h3 id=\"ä½¿ç”¨æ–¹æ³•\"><a href=\"#ä½¿ç”¨æ–¹æ³•\" class=\"headerlink\" title=\"ä½¿ç”¨æ–¹æ³•\"></a>ä½¿ç”¨æ–¹æ³•</h3><blockquote>\n<p><strong>1.å®‰è£…ffmpeg</strong></p>\n<ul>\n<li><figure class=\"highlight plain\"><figcaption><span>install ffmpeg```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&gt; **2.[å®‰è£…Python3](https://www.python.org/downloads/)**</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; **3.å®‰è£…pipenv**</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; - ```pip install pipenv</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</blockquote>\n<blockquote>\n<p><strong>4.åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–åŒ…</strong></p>\n<ul>\n<li><figure class=\"highlight plain\"><figcaption><span>shell```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; **5.è¿›å…¥è™šæ‹Ÿç¯å¢ƒå¹¶æ‰§è¡Œè„šæœ¬**</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; - ```pipenv shell</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li><code>python tencent_video.py /Users/ç”¨æˆ·/Library/Containers/com.tencent.tenvideo/Data/Library/Application Support/Download/video/g00208rhr0m.320092.hls out.mp4</code></li>\n</ul>\n</blockquote>\n<p>å®Œç»“</p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cjvv41zgv0002cvofeg41bl7g","category_id":"cjvv41zh5000bcvofx5kxrfsk","_id":"cjvv41zh9000gcvofaxj4smar"},{"post_id":"cjvv41zh00006cvof5rb6gnm2","category_id":"cjvv41zh9000ecvofovprmzhd","_id":"cjvv41zha000lcvofxwqzp2a6"},{"post_id":"cjvv41zh20008cvof5dv1316b","category_id":"cjvv41zh9000hcvofyb28jsuj","_id":"cjvv41zhd000qcvofuwj36wcv"},{"post_id":"cjvv41zgq0000cvofp8ke4pex","category_id":"cjvv41zgy0004cvof2pllxaer","_id":"cjvv41zhe000tcvofagotvbyz"},{"post_id":"cjvv41zgq0000cvofp8ke4pex","category_id":"cjvv41zhb000mcvof4nejwf12","_id":"cjvv41zhf000wcvof8nk6wanp"},{"post_id":"cjvv41zh4000acvofl5dgoggd","category_id":"cjvv41zh9000hcvofyb28jsuj","_id":"cjvv41zhf000ycvofhwyi3p5t"}],"PostTag":[{"post_id":"cjvv41zgq0000cvofp8ke4pex","tag_id":"cjvv41zh00005cvofjaag2odw","_id":"cjvv41zha000jcvofwcujdna0"},{"post_id":"cjvv41zgq0000cvofp8ke4pex","tag_id":"cjvv41zh5000ccvoftdfbm675","_id":"cjvv41zha000kcvof863g4glt"},{"post_id":"cjvv41zgq0000cvofp8ke4pex","tag_id":"cjvv41zh9000fcvofj427p4rx","_id":"cjvv41zhc000ocvof5b21kdg2"},{"post_id":"cjvv41zgv0002cvofeg41bl7g","tag_id":"cjvv41zha000icvoff2af8nqd","_id":"cjvv41zhd000pcvof0bziav9t"},{"post_id":"cjvv41zh00006cvof5rb6gnm2","tag_id":"cjvv41zh9000fcvofj427p4rx","_id":"cjvv41zhf000vcvofwyg42izv"},{"post_id":"cjvv41zh00006cvof5rb6gnm2","tag_id":"cjvv41zhd000rcvof8ynigt8x","_id":"cjvv41zhf000xcvofloy0ywf7"},{"post_id":"cjvv41zh20008cvof5dv1316b","tag_id":"cjvv41zhf000ucvof76pr5xnh","_id":"cjvv41zhg0011cvofhd99vu6j"},{"post_id":"cjvv41zh20008cvof5dv1316b","tag_id":"cjvv41zhf000zcvofnkd6cedq","_id":"cjvv41zhg0012cvofghbc3i5q"},{"post_id":"cjvv41zh4000acvofl5dgoggd","tag_id":"cjvv41zh00005cvofjaag2odw","_id":"cjvv41zhh0014cvofgsgvlmoo"},{"post_id":"cjvv41zh4000acvofl5dgoggd","tag_id":"cjvv41zhg0010cvofk5d5nfd1","_id":"cjvv41zhh0015cvofdrbr1ltc"},{"post_id":"cjvv41zh4000acvofl5dgoggd","tag_id":"cjvv41zhf000zcvofnkd6cedq","_id":"cjvv41zhh0016cvofhzdn6jh8"}],"Tag":[{"name":"Python","_id":"cjvv41zh00005cvofjaag2odw"},{"name":"Android","_id":"cjvv41zh5000ccvoftdfbm675"},{"name":"iOS","_id":"cjvv41zh9000fcvofj427p4rx"},{"name":"js","_id":"cjvv41zha000icvoff2af8nqd"},{"name":"è‡ªåŠ¨å¸ƒå±€","_id":"cjvv41zhd000rcvof8ynigt8x"},{"name":"Python2.7","_id":"cjvv41zhf000ucvof76pr5xnh"},{"name":"macOS","_id":"cjvv41zhf000zcvofnkd6cedq"},{"name":"ffmpeg","_id":"cjvv41zhg0010cvofk5d5nfd1"}]}}